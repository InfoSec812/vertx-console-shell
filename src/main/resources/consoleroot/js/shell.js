!function(t){function e(i){if(s[i])return s[i].exports;var r=s[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var s={};e.m=t,e.c=s,e.i=function(t){return t},e.d=function(t,s,i){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=33)}([function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var s=function(){};s.prototype=e.prototype,t.prototype=new s,t.prototype.constructor=t}},function(t,e){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(s=window)}t.exports=s},function(t,e,s){"use strict";function i(){o.call(this)}var r=s(0),o=s(17);r(i,o),i.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},i.prototype.once=function(t,e){function s(){i.removeListener(t,s),r||(r=!0,e.apply(this,arguments))}var i=this,r=!1;this.on(t,s)},i.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var s=arguments.length,i=new Array(s-1),r=1;r<s;r++)i[r-1]=arguments[r];for(var o=0;o<e.length;o++)e[o].apply(this,i)}},i.prototype.on=i.prototype.addListener=o.prototype.addEventListener,i.prototype.removeListener=o.prototype.removeEventListener,t.exports.EventEmitter=i},function(t,e,s){"use strict";var i=s(30),r=function(){};t.exports={getOrigin:function(t){if(!t)return null;var e=new i(t);if("file:"===e.protocol)return null;var s=e.port;return s||(s="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+s},isOriginEqual:function(t,e){var s=this.getOrigin(t)===this.getOrigin(e);return r("same",t,e,s),s},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var s=t.split("?");return s[0]+e+(s[1]?"?"+s[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},function(t,e,s){(function(t,i){var r;(function(){function o(t,e){function s(t){if(s[t]!==m)return s[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=s("json-stringify")&&s("json-parse");else{var n,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,l="function"==typeof c&&x;if(l){(n=function(){return 1}).toJSON=n;try{l="0"===c(0)&&"0"===c(new i)&&'""'==c(new r)&&c(v)===m&&c(m)===m&&c()===m&&"1"===c(n)&&"[1]"==c([n])&&"[null]"==c([m])&&"null"==c(null)&&"[null,null,null]"==c([m,v,null])&&c({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,n)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new h(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new h(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new h(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new h(-1))}catch(t){l=!1}}o=l}if("json-parse"==t){var u=e.parse;if("function"==typeof u)try{if(0===u("0")&&!u(!1)){n=u(a);var p=5==n.a.length&&1===n.a[0];if(p){try{p=!u('"\t"')}catch(t){}if(p)try{p=1!==u("01")}catch(t){}if(p)try{p=1!==u("1.")}catch(t){}}}}catch(t){p=!1}o=p}}return s[t]=!!o}t||(t=c.Object()),e||(e=c.Object());var i=t.Number||c.Number,r=t.String||c.String,n=t.Object||c.Object,h=t.Date||c.Date,l=t.SyntaxError||c.SyntaxError,u=t.TypeError||c.TypeError,p=t.Math||c.Math,f=t.JSON||c.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var d,y,m,b=n.prototype,v=b.toString,x=new h(-0xc782b5b800cec);try{x=-109252==x.getUTCFullYear()&&0===x.getUTCMonth()&&1===x.getUTCDate()&&10==x.getUTCHours()&&37==x.getUTCMinutes()&&6==x.getUTCSeconds()&&708==x.getUTCMilliseconds()}catch(t){}if(!s("json")){var g=s("bug-string-char-index");if(!x)var w=p.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],_=function(t,e){return k[e]+365*(t-1970)+w((t-1969+(e=+(e>1)))/4)-w((t-1901+e)/100)+w((t-1601+e)/400)};if((d=b.hasOwnProperty)||(d=function(t){var e,s={};return(s.__proto__=null,s.__proto__={toString:1},s).toString!=v?d=function(t){var e=this.__proto__,s=t in(this.__proto__=null,this);return this.__proto__=e,s}:(e=s.constructor,d=function(t){var s=(this.constructor||e).prototype;return t in this&&!(t in s&&this[t]===s[t])}),s=null,d.call(this,t)}),y=function(t,e){var s,i,r,o=0;(s=function(){this.valueOf=0}).prototype.valueOf=0,i=new s;for(r in i)d.call(i,r)&&o++;return s=i=null,o?y=2==o?function(t,e){var s,i={},r="[object Function]"==v.call(t);for(s in t)r&&"prototype"==s||d.call(i,s)||!(i[s]=1)||!d.call(t,s)||e(s)}:function(t,e){var s,i,r="[object Function]"==v.call(t);for(s in t)r&&"prototype"==s||!d.call(t,s)||(i="constructor"===s)||e(s);(i||d.call(t,s="constructor"))&&e(s)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(t,e){var s,r,o="[object Function]"==v.call(t),n=!o&&"function"!=typeof t.constructor&&a[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(s in t)o&&"prototype"==s||!n.call(t,s)||e(s);for(r=i.length;s=i[--r];n.call(t,s)&&e(s));}),y(t,e)},!s("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S=function(t,e){return("000000"+(e||0)).slice(-t)},E=function(t){for(var e='"',s=0,i=t.length,r=!g||i>10,o=r&&(g?t.split(""):t);s<i;s++){var n=t.charCodeAt(s);switch(n){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=C[n];break;default:if(n<32){e+="\\u00"+S(2,n.toString(16));break}e+=r?o[s]:t.charAt(s)}}return e+'"'},T=function(t,e,s,i,r,o,n){var a,h,c,l,p,f,b,x,g,k,C,M,A,O,P,j;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(h=v.call(a))||d.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=h&&"[object String]"!=h&&"[object Array]"!=h||d.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(_){for(p=w(a/864e5),c=w(p/365.2425)+1970-1;_(c+1,0)<=p;c++);for(l=w((p-_(c,0))/30.42);_(c,l+1)<=p;l++);p=1+p-_(c,l),f=(a%864e5+864e5)%864e5,b=w(f/36e5)%24,x=w(f/6e4)%60,g=w(f/1e3)%60,k=f%1e3}else c=a.getUTCFullYear(),l=a.getUTCMonth(),p=a.getUTCDate(),b=a.getUTCHours(),x=a.getUTCMinutes(),g=a.getUTCSeconds(),k=a.getUTCMilliseconds();a=(c<=0||c>=1e4?(c<0?"-":"+")+S(6,c<0?-c:c):S(4,c))+"-"+S(2,l+1)+"-"+S(2,p)+"T"+S(2,b)+":"+S(2,x)+":"+S(2,g)+"."+S(3,k)+"Z"}else a=null;if(s&&(a=s.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(h=v.call(a)))return""+a;if("[object Number]"==h)return a>-1/0&&a<1/0?""+a:"null";if("[object String]"==h)return E(""+a);if("object"==typeof a){for(O=n.length;O--;)if(n[O]===a)throw u();if(n.push(a),C=[],P=o,o+=r,"[object Array]"==h){for(A=0,O=a.length;A<O;A++)M=T(A,a,s,i,r,o,n),C.push(M===m?"null":M);j=C.length?r?"[\n"+o+C.join(",\n"+o)+"\n"+P+"]":"["+C.join(",")+"]":"[]"}else y(i||a,function(t){var e=T(t,a,s,i,r,o,n);e!==m&&C.push(E(t)+":"+(r?" ":"")+e)}),j=C.length?r?"{\n"+o+C.join(",\n"+o)+"\n"+P+"}":"{"+C.join(",")+"}":"{}";return n.pop(),j}};e.stringify=function(t,e,s){var i,r,o,n;if(a[typeof e]&&e)if("[object Function]"==(n=v.call(e)))r=e;else if("[object Array]"==n){o={};for(var h,c=0,l=e.length;c<l;h=e[c++],("[object String]"==(n=v.call(h))||"[object Number]"==n)&&(o[h]=1));}if(s)if("[object Number]"==(n=v.call(s))){if((s-=s%1)>0)for(i="",s>10&&(s=10);i.length<s;i+=" ");}else"[object String]"==n&&(i=s.length<=10?s:s.slice(0,10));return T("",(h={},h[""]=t,h),r,o,i,"",[])}}if(!s("json-parse")){var M,A,O=r.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},j=function(){throw M=A=null,l()},L=function(){for(var t,e,s,i,r,o=A,n=o.length;M<n;)switch(r=o.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=g?o.charAt(M):o[M],M++,t;case 34:for(t="@",M++;M<n;)if((r=o.charCodeAt(M))<32)j();else if(92==r)switch(r=o.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=P[r],M++;break;case 117:for(e=++M,s=M+4;M<s;M++)(r=o.charCodeAt(M))>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||j();t+=O("0x"+o.slice(e,M));break;default:j()}else{if(34==r)break;for(r=o.charCodeAt(M),e=M;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++M);t+=o.slice(e,M)}if(34==o.charCodeAt(M))return M++,t;j();default:if(e=M,45==r&&(i=!0,r=o.charCodeAt(++M)),r>=48&&r<=57){for(48==r&&(r=o.charCodeAt(M+1))>=48&&r<=57&&j(),i=!1;M<n&&(r=o.charCodeAt(M))>=48&&r<=57;M++);if(46==o.charCodeAt(M)){for(s=++M;s<n&&(r=o.charCodeAt(s))>=48&&r<=57;s++);s==M&&j(),M=s}if(101==(r=o.charCodeAt(M))||69==r){for(r=o.charCodeAt(++M),43!=r&&45!=r||M++,s=M;s<n&&(r=o.charCodeAt(s))>=48&&r<=57;s++);s==M&&j(),M=s}return+o.slice(e,M)}if(i&&j(),"true"==o.slice(M,M+4))return M+=4,!0;if("false"==o.slice(M,M+5))return M+=5,!1;if("null"==o.slice(M,M+4))return M+=4,null;j()}return"$"},N=function(t){var e,s;if("$"==t&&j(),"string"==typeof t){if("@"==(g?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=L());s||(s=!0))s&&(","==t?"]"==(t=L())&&j():j()),","==t&&j(),e.push(N(t));return e}if("{"==t){for(e={};"}"!=(t=L());s||(s=!0))s&&(","==t?"}"==(t=L())&&j():j()),","!=t&&"string"==typeof t&&"@"==(g?t.charAt(0):t[0])&&":"==L()||j(),e[t.slice(1)]=N(L());return e}j()}return t},R=function(t,e,s){var i=I(t,e,s);i===m?delete t[e]:t[e]=i},I=function(t,e,s){var i,r=t[e];if("object"==typeof r&&r)if("[object Array]"==v.call(r))for(i=r.length;i--;)R(r,i,s);else y(r,function(t){R(r,t,s)});return s.call(t,e,r)};e.parse=function(t,e){var s,i;return M=0,A=""+t,s=N(L()),"$"!=L()&&j(),M=A=null,e&&"[object Function]"==v.call(e)?I((i={},i[""]=s,i),"",e):s}}}return e.runInContext=o,e}var n=s(66),a={function:!0,object:!0},h=a[typeof e]&&e&&!e.nodeType&&e,c=a[typeof window]&&window||this,l=h&&a[typeof t]&&t&&!t.nodeType&&"object"==typeof i&&i;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(c=l),h&&!n)o(c,h);else{var u=c.JSON,p=c.JSON3,f=!1,d=o(c,c.JSON3={noConflict:function(){return f||(f=!0,c.JSON=u,c.JSON3=p,u=p=null),d}});c.JSON={parse:d.parse,stringify:d.stringify}}n&&void 0!==(r=function(){return d}.call(e,s,e,t))&&(t.exports=r)}).call(this)}).call(e,s(67)(t),s(1))},function(t,e,s){"use strict";(function(e){var i=s(7),r={},o=!1,n=e.chrome&&e.chrome.app&&e.chrome.app.runtime;t.exports={attachEvent:function(t,s){void 0!==e.addEventListener?e.addEventListener(t,s,!1):e.document&&e.attachEvent&&(e.document.attachEvent("on"+t,s),e.attachEvent("on"+t,s))},detachEvent:function(t,s){void 0!==e.addEventListener?e.removeEventListener(t,s,!1):e.document&&e.detachEvent&&(e.document.detachEvent("on"+t,s),e.detachEvent("on"+t,s))},unloadAdd:function(t){if(n)return null;var e=i.string(8);return r[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in r&&delete r[t]},triggerUnloadCallbacks:function(){for(var t in r)r[t](),delete r[t]}};var a=function(){o||(o=!0,t.exports.triggerUnloadCallbacks())};n||t.exports.attachEvent("unload",a)}).call(e,s(1))},function(t,e,s){"use strict";function i(t){return function(e,s,i){h("create ajax sender",e,s);var r={};"string"==typeof s&&(r.headers={"Content-type":"text/plain"});var o=n.addPath(e,"/xhr_send"),a=new t("POST",o,s,r);return a.once("finish",function(t){if(h("finish",t),a=null,200!==t&&204!==t)return i(new Error("http status "+t));i()}),function(){h("abort"),a.close(),a=null;var t=new Error("Aborted");t.code=1e3,i(t)}}}function r(t,e,s,r){a.call(this,t,e,i(r),s,r)}var o=s(0),n=s(3),a=s(26),h=function(){};o(r,a),t.exports=r},function(t,e,s){"use strict";var i=s(59),r="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(t){for(var e=r.length,s=i.randomBytes(t),o=[],n=0;n<t;n++)o.push(r.substr(s[n]%e,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},function(t,e,s){"use strict";function i(t,e,s){o.call(this,t,e,s,{noCredentials:!0})}var r=s(0),o=s(21);r(i,o),i.enabled=o.enabled,t.exports=i},function(t,e,s){"use strict";(function(e){t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(t){return!1}}}}).call(e,s(1))},function(t,e,s){"use strict";(function(e){var i=s(5),r=s(4),o=s(9),n=function(){};t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in e||(e[t.exports.WPrefix]={})},postMessage:function(s,i){e.parent!==e?e.parent.postMessage(r.stringify({windowId:t.exports.currentWindowId,type:s,data:i||""}),"*"):n("Cannot postMessage, no parent window.",s,i)},createIframe:function(t,s){var r,o,a=e.document.createElement("iframe"),h=function(){n("unattach"),clearTimeout(r);try{a.onload=null}catch(t){}a.onerror=null},c=function(){n("cleanup"),a&&(h(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),i.unloadDel(o))},l=function(t){n("onerror",t),a&&(c(),s(t))},u=function(t,e){n("post",t,e);try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(t,e)},0)}catch(t){}};return a.src=t,a.style.display="none",a.style.position="absolute",a.onerror=function(){l("onerror")},a.onload=function(){n("onload"),clearTimeout(r),r=setTimeout(function(){l("onload timeout")},2e3)},e.document.body.appendChild(a),r=setTimeout(function(){l("timeout")},15e3),o=i.unloadAdd(c),{post:u,cleanup:c,loaded:h}},createHtmlfile:function(s,r){var o,a,h,c=["Active"].concat("Object").join("X"),l=new e[c]("htmlfile"),u=function(){clearTimeout(o),h.onerror=null},p=function(){l&&(u(),i.unloadDel(a),h.parentNode.removeChild(h),h=l=null,CollectGarbage())},f=function(t){n("onerror",t),l&&(p(),r(t))},d=function(t,e){try{setTimeout(function(){h&&h.contentWindow&&h.contentWindow.postMessage(t,e)},0)}catch(t){}};l.open(),l.write('<html><script>document.domain="'+e.document.domain+'";<\/script></html>'),l.close(),l.parentWindow[t.exports.WPrefix]=e[t.exports.WPrefix];var y=l.createElement("div");return l.body.appendChild(y),h=l.createElement("iframe"),y.appendChild(h),h.src=s,h.onerror=function(){f("onerror")},o=setTimeout(function(){f("timeout")},15e3),a=i.unloadAdd(p),{post:d,cleanup:p,loaded:u}}},t.exports.iframeEnabled=!1,e.document&&(t.exports.iframeEnabled=("function"==typeof e.postMessage||"object"==typeof e.postMessage)&&!o.isKonqueror())}).call(e,s(1))},function(t,e,s){"use strict";function i(t,e){n(t),o.call(this);var s=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){n("finish",t,e),s._chunkHandler(t,e),s.xo=null;var i=200===t?"network":"permanent";n("close",i),s.emit("close",null,i),s._cleanup()})}var r=s(0),o=s(2).EventEmitter,n=function(){};r(i,o),i.prototype._chunkHandler=function(t,e){if(n("_chunkHandler",t),200===t&&e)for(var s=-1;;this.bufferPosition+=s+1){var i=e.slice(this.bufferPosition);if(-1===(s=i.indexOf("\n")))break;var r=i.slice(0,s);r&&(n("message",r),this.emit("message",r))}},i.prototype._cleanup=function(){n("_cleanup"),this.removeAllListeners()},i.prototype.abort=function(){n("abort"),this.xo&&(this.xo.close(),n("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=i},function(t,e,s){"use strict";function i(t,e,s,i){o.call(this,t,e,s,i)}var r=s(0),o=s(21);r(i,o),i.enabled=o.enabled&&o.supportsCORS,t.exports=i},function(t,e,s){"use strict";function i(t){this.type=t}i.prototype.initEvent=function(t,e,s){return this.type=t,this.bubbles=e,this.cancelable=s,this.timeStamp=+new Date,this},i.prototype.stopPropagation=function(){},i.prototype.preventDefault=function(){},i.CAPTURING_PHASE=1,i.AT_TARGET=2,i.BUBBLING_PHASE=3,t.exports=i},function(t,e,s){"use strict";(function(e){var i=s(0),r=s(25),o=s(16);t.exports=function(t){function s(e,s){r.call(this,t.transportName,e,s)}return i(s,r),s.enabled=function(s,i){if(!e.document)return!1;var n=o.extend({},i);return n.sameOrigin=!0,t.enabled(n)&&r.enabled()},s.transportName="iframe-"+t.transportName,s.needBody=!0,s.roundTrips=r.roundTrips+t.roundTrips-1,s.facadeTransport=t,s}}).call(e,s(1))},function(t,e,s){"use strict";(function(e){function i(t,e,s){c(t,e);var i=this;r.call(this),setTimeout(function(){i._start(t,e,s)},0)}var r=s(2).EventEmitter,o=s(0),n=s(5),a=s(9),h=s(3),c=function(){};o(i,r),i.prototype._start=function(t,s,i){c("_start");var r=this,o=new e.XDomainRequest;s=h.addQuery(s,"t="+ +new Date),o.onerror=function(){c("onerror"),r._error()},o.ontimeout=function(){c("ontimeout"),r._error()},o.onprogress=function(){c("progress",o.responseText),r.emit("chunk",200,o.responseText)},o.onload=function(){c("load"),r.emit("finish",200,o.responseText),r._cleanup(!1)},this.xdr=o,this.unloadRef=n.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(t,s),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(i)}catch(t){this._error()}},i.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},i.prototype._cleanup=function(t){if(c("cleanup",t),this.xdr){if(this.removeAllListeners(),n.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},i.prototype.close=function(){c("close"),this._cleanup(!0)},i.enabled=!(!e.XDomainRequest||!a.hasDomain()),t.exports=i}).call(e,s(1))},function(t,e,s){"use strict";t.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,s,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t}}},function(t,e,s){"use strict";function i(){this._listeners={}}i.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var s=this._listeners[t];-1===s.indexOf(e)&&(s=s.concat([e])),this._listeners[t]=s},i.prototype.removeEventListener=function(t,e){var s=this._listeners[t];if(s){var i=s.indexOf(e);return-1!==i?void(s.length>1?this._listeners[t]=s.slice(0,i).concat(s.slice(i+1)):delete this._listeners[t]):void 0}},i.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,s=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,s),e in this._listeners)for(var i=this._listeners[e],r=0;r<i.length;r++)i[r].apply(this,s)},t.exports=i},function(t,e,s){"use strict";function i(t,e){r.call(this);var s=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var r,o;if(200===t){if(o=+new Date-i,e)try{r=n.parse(e)}catch(t){h("bad json",e)}a.isObject(r)||(r={})}s.emit("finish",r,o),s.removeAllListeners()})}var r=s(2).EventEmitter,o=s(0),n=s(4),a=s(16),h=function(){};o(i,r),i.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=i},function(t,e,s){"use strict";function i(t){var e=this;o.call(this),this.ir=new h(t,a),this.ir.once("finish",function(t,s){e.ir=null,e.emit("message",n.stringify([t,s]))})}var r=s(0),o=s(2).EventEmitter,n=s(4),a=s(8),h=s(18);r(i,o),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=i},function(t,e,s){"use strict";(function(e){t.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(e,s(1))},function(t,e,s){"use strict";(function(e){function i(t,e,s,i){c(t,e);var o=this;r.call(this),setTimeout(function(){o._start(t,e,s,i)},0)}var r=s(2).EventEmitter,o=s(0),n=s(5),a=s(3),h=e.XMLHttpRequest,c=function(){};o(i,r),i.prototype._start=function(t,e,s,r){var o=this;try{this.xhr=new h}catch(t){}if(!this.xhr)return c("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=n.unloadAdd(function(){c("unload cleanup"),o._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){c("xhr timeout"),o.emit("finish",0,""),o._cleanup(!1)})}catch(t){return c("exception",t),this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!i.supportsCORS||(c("withCredentials"),this.xhr.withCredentials="true"),r&&r.headers)for(var l in r.headers)this.xhr.setRequestHeader(l,r.headers[l]);this.xhr.onreadystatechange=function(){if(o.xhr){var t,e,s=o.xhr;switch(c("readyState",s.readyState),s.readyState){case 3:try{e=s.status,t=s.responseText}catch(t){}c("status",e),1223===e&&(e=204),200===e&&t&&t.length>0&&(c("chunk"),o.emit("chunk",e,t));break;case 4:e=s.status,c("status",e),1223===e&&(e=204),12005!==e&&12029!==e||(e=0),c("finish",e,s.responseText),o.emit("finish",e,s.responseText),o._cleanup(!1)}}};try{o.xhr.send(s)}catch(t){o.emit("finish",0,""),o._cleanup(!1)}},i.prototype._cleanup=function(t){if(c("cleanup"),this.xhr){if(this.removeAllListeners(),n.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},i.prototype.close=function(){c("close"),this._cleanup(!0)},i.enabled=!!h;var l=["Active"].concat("Object").join("X");!i.enabled&&l in e&&(c("overriding xmlhttprequest"),h=function(){try{return new e[l]("Microsoft.XMLHTTP")}catch(t){return null}},i.enabled=!!new h);var u=!1;try{u="withCredentials"in new h}catch(t){}i.supportsCORS=u,t.exports=i}).call(e,s(1))},function(t,e,s){(function(e){t.exports=e.EventSource}).call(e,s(1))},function(t,e,s){"use strict";function i(t){if(!i.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/eventsource",n,a)}var r=s(0),o=s(6),n=s(51),a=s(12),h=s(22);r(i,o),i.enabled=function(){return!!h},i.transportName="eventsource",i.roundTrips=2,t.exports=i},function(t,e,s){"use strict";function i(t){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,t,"/htmlfile",o,n)}var r=s(0),o=s(52),n=s(8),a=s(6);r(i,a),i.enabled=function(t){return o.enabled&&t.sameOrigin},i.transportName="htmlfile",i.roundTrips=2,t.exports=i},function(t,e,s){"use strict";function i(t,e,s){if(!i.enabled())throw new Error("Transport created when disabled");n.call(this);var r=this;this.origin=h.getOrigin(s),this.baseUrl=s,this.transUrl=e,this.transport=t,this.windowId=u.string(8);var o=h.addPath(s,"/iframe.html")+"#"+this.windowId;p(t,e,o),this.iframeObj=c.createIframe(o,function(t){p("err callback"),r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}var r=s(0),o=s(4),n=s(2).EventEmitter,a=s(29),h=s(3),c=s(10),l=s(5),u=s(7),p=function(){};r(i,n),i.prototype.close=function(){if(p("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},i.prototype._message=function(t){if(p("message",t.data),!h.isOriginEqual(t.origin,this.origin))return void p("not same origin",t.origin,this.origin);var e;try{e=o.parse(t.data)}catch(e){return void p("bad json",t.data)}if(e.windowId!==this.windowId)return void p("mismatched window id",e.windowId,this.windowId);switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",o.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var s;try{s=o.parse(e.data)}catch(t){return void p("bad json",e.data)}this.emit("close",s[0],s[1]),this.close()}},i.prototype.postMessage=function(t,e){p("postMessage",t,e),this.iframeObj.post(o.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},i.prototype.send=function(t){p("send",t),this.postMessage("m",t)},i.enabled=function(){return c.iframeEnabled},i.transportName="iframe",i.roundTrips=2,t.exports=i},function(t,e,s){"use strict";function i(t,e,s,i,r){var c=o.addPath(t,e);h(c);var l=this;n.call(this,t,s),this.poll=new a(i,c,r),this.poll.on("message",function(t){h("poll message",t),l.emit("message",t)}),this.poll.once("close",function(t,e){h("poll close",t,e),l.poll=null,l.emit("close",t,e),l.close()})}var r=s(0),o=s(3),n=s(49),a=s(50),h=function(){};r(i,n),i.prototype.close=function(){n.prototype.close.call(this),h("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=i},function(t,e,s){"use strict";function i(t){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",n,a)}var r=s(0),o=s(6),n=s(11),a=s(15);r(i,o),i.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&(a.enabled&&t.sameScheme)},i.transportName="xdr-streaming",i.roundTrips=2,t.exports=i},function(t,e,s){"use strict";function i(t){if(!h.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",n,a)}var r=s(0),o=s(6),n=s(11),a=s(12),h=s(8);r(i,o),i.enabled=function(t){return!t.nullOrigin&&(!(!h.enabled||!t.sameOrigin)||a.enabled)},i.transportName="xhr-polling",i.roundTrips=2,t.exports=i},function(t,e){t.exports="1.1.4"},function(t,e,s){"use strict";(function(e){function i(t){t=t||e.location||{};var s,i={},r=typeof t;if("blob:"===t.protocol)i=new n(unescape(t.pathname),{});else if("string"===r){i=new n(t,{});for(s in d)delete i[s]}else if("object"===r){for(s in t)s in d||(i[s]=t[s]);void 0===i.slashes&&(i.slashes=p.test(t.href))}return i}function r(t){var e=u.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function o(t,e){for(var s=(e||"/").split("/").slice(0,-1).concat(t.split("/")),i=s.length,r=s[i-1],o=!1,n=0;i--;)"."===s[i]?s.splice(i,1):".."===s[i]?(s.splice(i,1),n++):n&&(0===i&&(o=!0),s.splice(i,1),n--);return o&&s.unshift(""),"."!==r&&".."!==r||s.push(""),s.join("/")}function n(t,e,s){if(!(this instanceof n))return new n(t,e,s);var a,h,u,p,d,y,m=f.slice(),b=typeof e,v=this,x=0;for("object"!==b&&"string"!==b&&(s=e,e=null),s&&"function"!=typeof s&&(s=l.parse),e=i(e),h=r(t||""),a=!h.protocol&&!h.slashes,v.slashes=h.slashes||a&&e.slashes,v.protocol=h.protocol||e.protocol||"",t=h.rest,h.slashes||(m[2]=[/(.*)/,"pathname"]);x<m.length;x++)p=m[x],u=p[0],y=p[1],u!==u?v[y]=t:"string"==typeof u?~(d=t.indexOf(u))&&("number"==typeof p[2]?(v[y]=t.slice(0,d),t=t.slice(d+p[2])):(v[y]=t.slice(d),t=t.slice(0,d))):(d=u.exec(t))&&(v[y]=d[1],t=t.slice(0,d.index)),v[y]=v[y]||(a&&p[3]?e[y]||"":""),p[4]&&(v[y]=v[y].toLowerCase());s&&(v.query=s(v.query)),a&&e.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==e.pathname)&&(v.pathname=o(v.pathname,e.pathname)),c(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(p=v.auth.split(":"),v.username=p[0]||"",v.password=p[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}function a(t,e,s){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(s||l.parse)(e)),i[t]=e;break;case"port":i[t]=e,c(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,/:\d+$/.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!s;break;case"pathname":i.pathname=e.length&&"/"!==e.charAt(0)?"/"+e:e;break;default:i[t]=e}for(var r=0;r<f.length;r++){var o=f[r];o[4]&&(i[o[1]]=i[o[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function h(t){t&&"function"==typeof t||(t=l.stringify);var e,s=this,i=s.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var r=i+(s.slashes?"//":"");return s.username&&(r+=s.username,s.password&&(r+=":"+s.password),r+="@"),r+=s.host+s.pathname,e="object"==typeof s.query?t(s.query):s.query,e&&(r+="?"!==e.charAt(0)?"?"+e:e),s.hash&&(r+=s.hash),r}var c=s(36),l=s(35),u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,p=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};n.prototype={set:a,toString:h},n.extractProtocol=r,n.location=i,n.qs=l,t.exports=n}).call(e,s(1))},function(t,e,s){var i=s(64)(s(32),s(65),null,null,null);t.exports=i.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(34);e.default={name:"Shell",mounted:function(){this.$nextTick(function(){new i.a(window.location.pathname+"/shellproxy",{cols:80,rows:24})})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(31),r=s.n(i);window.vertxConsoleRoutes||(window.vertxConsoleRoutes=[]),window.vertxConsoleRoutes.push({path:"/shell",component:r.a})},function(t,e,s){"use strict";var i=s(37),r=s.n(i),o=s(63),n=s.n(o),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function(t,e){e=e||{};var s=e.cols||80,i=e.rows||24;t+=(t.indexOf("?")>-1?"&":"?")+"cols="+s+"&rows="+i;var o=e.termOptions||{screenKeys:!0};o.cols=s,o.rows=i;var h;"ws"==t.substring(0,2)?(h=new WebSocket(t),h.binaryType="blob"):h=new r.a(t),h.onopen=function(){var t=new n.a(o);h.onmessage=function(e){if("message"===e.type)if(console.log(a(e.data)),"string"!=typeof e.data){var s=new FileReader;s.onloadend=function(){t.write(s.result)},s.readAsText(e.data)}else t.write(e.data)},h.onclose=function(){h.onmessage=null,h.onclose=null,t.destroy()},t.on("data",function(t){h.send(JSON.stringify({action:"read",data:t}))}),t.open(document.body)}}},function(t,e,s){"use strict";function i(t){return decodeURIComponent(t.replace(/\+/g," "))}function r(t){for(var e,s=/([^=?&]+)=?([^&]*)/g,r={};e=s.exec(t);r[i(e[1])]=i(e[2]));return r}function o(t,e){e=e||"";var s=[];"string"!=typeof e&&(e="?");for(var i in t)n.call(t,i)&&s.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return s.length?e+s.join("&"):""}var n=Object.prototype.hasOwnProperty;e.stringify=o,e.parse=r},function(t,e,s){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,s){"use strict";(function(e){var i=s(46);t.exports=s(44)(i),"_sockjs_onload"in e&&setTimeout(e._sockjs_onload,1)}).call(e,s(1))},function(t,e,s){"use strict";function i(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var r=s(0),o=s(13);r(i,o),t.exports=i},function(t,e,s){"use strict";function i(t){o.call(this),this.initEvent("message",!1,!1),this.data=t}var r=s(0),o=s(13);r(i,o),t.exports=i},function(t,e,s){"use strict";function i(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}var r=s(4),o=s(10);i.prototype._transportClose=function(t,e){o.postMessage("c",r.stringify([t,e]))},i.prototype._transportMessage=function(t){o.postMessage("t",t)},i.prototype._send=function(t){this._transport.send(t)},i.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=i},function(t,e,s){"use strict";var i=s(3),r=s(5),o=s(4),n=s(40),a=s(19),h=s(10),c=s(20),l=function(){};t.exports=function(t,e){var s={};e.forEach(function(t){t.facadeTransport&&(s[t.facadeTransport.transportName]=t.facadeTransport)}),s[a.transportName]=a;var u;t.bootstrap_iframe=function(){var e;h.currentWindowId=c.hash.slice(1);var a=function(r){if(r.source===parent&&(void 0===u&&(u=r.origin),r.origin===u)){var a;try{a=o.parse(r.data)}catch(t){return void l("bad json",r.data)}if(a.windowId===h.currentWindowId)switch(a.type){case"s":var p;try{p=o.parse(a.data)}catch(t){l("bad json",a.data);break}var f=p[0],d=p[1],y=p[2],m=p[3];if(l(f,d,y,m),f!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+f+'", the iframe: "'+t.version+'".');if(!i.isOriginEqual(y,c.href)||!i.isOriginEqual(m,c.href))throw new Error("Can't connect to different domain from within an iframe. ("+c.href+", "+y+", "+m+")");e=new n(new s[d](y,m));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}};r.attachEvent("message",a),h.postMessage("s")}}},function(t,e,s){"use strict";(function(e){function i(t,s){var i=this;r.call(this);var o=function(){var e=i.ifr=new h(c.transportName,s,t);e.once("message",function(t){if(t){var e;try{e=n.parse(t)}catch(e){return l("bad json",t),i.emit("finish"),void i.close()}var s=e[0],r=e[1];i.emit("finish",s,r)}i.close()}),e.once("close",function(){i.emit("finish"),i.close()})};e.document.body?o():a.attachEvent("load",o)}var r=s(2).EventEmitter,o=s(0),n=s(4),a=s(5),h=s(25),c=s(19),l=function(){};o(i,r),i.enabled=function(){return h.enabled()},i.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=i}).call(e,s(1))},function(t,e,s){"use strict";function i(t,e){f(t);var s=this;r.call(this),setTimeout(function(){s.doXhr(t,e)},0)}var r=s(2).EventEmitter,o=s(0),n=s(3),a=s(15),h=s(12),c=s(8),l=s(55),u=s(42),p=s(18),f=function(){};o(i,r),i._getReceiver=function(t,e,s){return s.sameOrigin?new p(e,c):h.enabled?new p(e,h):a.enabled&&s.sameScheme?new p(e,a):u.enabled()?new u(t,e):new p(e,l)},i.prototype.doXhr=function(t,e){var s=this,r=n.addPath(t,"/info");f("doXhr",r),this.xo=i._getReceiver(t,r,e),this.timeoutRef=setTimeout(function(){f("timeout"),s._cleanup(!1),s.emit("finish")},i.timeout),this.xo.once("finish",function(t,e){f("finish",t,e),s._cleanup(!0),s.emit("finish",t,e)})},i.prototype._cleanup=function(t){f("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},i.prototype.close=function(){f("close"),this.removeAllListeners(),this._cleanup(!1)},i.timeout=8e3,t.exports=i},function(t,e,s){"use strict";(function(e){function i(t,e,s){if(!(this instanceof i))return new i(t,e,s);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");v.call(this),this.readyState=i.CONNECTING,this.extensions="",this.protocol="",s=s||{},s.protocols_whitelist&&m.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=s.transports,this._transportOptions=s.transportOptions||{};var r=s.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return c.string(r)}}this._server=s.server||c.numberString(1e3);var o=new n(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https"===x.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var h=e.sort();h.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<h.length-1&&t===h[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var l=u.getOrigin(x.href);this._origin=l?l.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,_("using url",this.url),this._urlInfo={nullOrigin:!y.hasDomain(),sameOrigin:u.isOriginEqual(this.url,x.href),sameScheme:u.isSchemeEqual(this.url,x.href)},this._ir=new k(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function r(t){return 1e3===t||t>=3e3&&t<=4999}s(45);var o,n=s(30),a=s(0),h=s(4),c=s(7),l=s(60),u=s(3),p=s(5),f=s(62),d=s(16),y=s(9),m=s(61),b=s(13),v=s(17),x=s(20),g=s(38),w=s(39),k=s(43),_=function(){};a(i,v),i.prototype.close=function(t,e){if(t&&!r(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==i.CLOSING&&this.readyState!==i.CLOSED){this._close(t||1e3,e||"Normal closure",!0)}},i.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===i.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===i.OPEN&&this._transport.send(l.quote(t))},i.version=s(29),i.CONNECTING=0,i.OPEN=1,i.CLOSING=2,i.CLOSED=3,i.prototype._receiveInfo=function(t,e){if(_("_receiveInfo",e),this._ir=null,!t)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=d.extend(t,this._urlInfo),_("info",t);var s=o.filterToEnabled(this._transportsWhitelist,t);this._transports=s.main,_(this._transports.length+" enabled transports"),this._connect()},i.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(_("attempt",t.transportName),t.needBody&&(!e.document.body||void 0!==e.document.readyState&&"complete"!==e.document.readyState&&"interactive"!==e.document.readyState))return _("waiting for body"),this._transports.unshift(t),void p.attachEvent("load",this._connect.bind(this));var s=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),s),_("using timeout",s);var i=u.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[t.transportName];_("transport url",i);var o=new t(i,this._transUrl,r);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=t.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},i.prototype._transportTimeout=function(){_("_transportTimeout"),this.readyState===i.CONNECTING&&this._transportClose(2007,"Transport timed out")},i.prototype._transportMessage=function(t){_("_transportMessage",t);var e,s=this,i=t.slice(0,1),r=t.slice(1);switch(i){case"o":return void this._open();case"h":return this.dispatchEvent(new b("heartbeat")),void _("heartbeat",this.transport)}if(r)try{e=h.parse(r)}catch(t){_("bad json",r)}if(void 0===e)return void _("empty payload",r);switch(i){case"a":Array.isArray(e)&&e.forEach(function(t){_("message",s.transport,t),s.dispatchEvent(new w(t))});break;case"m":_("message",this.transport,e),this.dispatchEvent(new w(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},i.prototype._transportClose=function(t,e){if(_("_transportClose",this.transport,t,e),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!r(t)&&2e3!==t&&this.readyState===i.CONNECTING)return void this._connect();this._close(t,e)},i.prototype._open=function(){_("_open",this._transport.transportName,this.readyState),this.readyState===i.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=i.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new b("open")),_("connected",this.transport)):this._close(1006,"Server lost session")},i.prototype._close=function(t,e,s){_("_close",this.transport,t,e,s,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===i.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=i.CLOSING,setTimeout(function(){this.readyState=i.CLOSED,r&&this.dispatchEvent(new b("error"));var o=new g("close");o.wasClean=s||!1,o.code=t||1e3,o.reason=e,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null,_("disconnected")}.bind(this),0)},i.prototype.countRTO=function(t){return t>100?4*t:300+t},t.exports=function(t){return o=f(t),s(41)(i,t),i}}).call(e,s(1))},function(t,e,s){"use strict";function i(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function r(t){return t>>>0}function o(){}var n,a=Array.prototype,h=Object.prototype,c=Function.prototype,l=String.prototype,u=a.slice,p=h.toString,f=function(t){return"[object Function]"===h.toString.call(t)},d=function(t){return"[object Array]"===p.call(t)},y=function(t){return"[object String]"===p.call(t)},m=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();n=m?function(t,e,s,i){!i&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:s})}:function(t,e,s,i){!i&&e in t||(t[e]=s)};var b=function(t,e,s){for(var i in e)h.hasOwnProperty.call(e,i)&&n(t,i,e[i],s)},v=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};b(c,{bind:function(t){var e=this;if(!f(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var s=u.call(arguments,1),i=function(){if(this instanceof h){var i=e.apply(this,s.concat(u.call(arguments)));return Object(i)===i?i:this}return e.apply(t,s.concat(u.call(arguments)))},r=Math.max(0,e.length-s.length),n=[],a=0;a<r;a++)n.push("$"+a);var h=Function("binder","return function ("+n.join(",")+"){ return binder.apply(this, arguments); }")(i);return e.prototype&&(o.prototype=e.prototype,h.prototype=new o,o.prototype=null),h}}),b(Array,{isArray:d});var x=Object("a"),g="a"!==x[0]||!(0 in x);b(a,{forEach:function(t){var e=v(this),s=g&&y(this)?this.split(""):e,i=arguments[1],r=-1,o=s.length>>>0;if(!f(t))throw new TypeError;for(;++r<o;)r in s&&t.call(i,s[r],r,e)}},!function(t){var e=!0,s=!0;return t&&(t.call("foo",function(t,s,i){"object"!=typeof i&&(e=!1)}),t.call([1],function(){s="string"==typeof this},"x")),!!t&&e&&s}(a.forEach));var w=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);b(a,{indexOf:function(t){var e=g&&y(this)?this.split(""):v(this),s=e.length>>>0;if(!s)return-1;var r=0;for(arguments.length>1&&(r=i(arguments[1])),r=r>=0?r:Math.max(0,s+r);r<s;r++)if(r in e&&e[r]===t)return r;return-1}},w);var k=l.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=void 0===/()??/.exec("")[1];l.split=function(e,s){var i=this;if(void 0===e&&0===s)return[];if("[object RegExp]"!==p.call(e))return k.call(this,e,s);var o,n,h,c,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),f=0;for(e=new RegExp(e.source,u+"g"),i+="",t||(o=new RegExp("^"+e.source+"$(?!\\s)",u)),s=void 0===s?-1>>>0:r(s);(n=e.exec(i))&&!((h=n.index+n[0].length)>f&&(l.push(i.slice(f,n.index)),!t&&n.length>1&&n[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(n[t]=void 0)}),n.length>1&&n.index<i.length&&a.push.apply(l,n.slice(1)),c=n[0].length,f=h,l.length>=s));)e.lastIndex===n.index&&e.lastIndex++;return f===i.length?!c&&e.test("")||l.push(""):l.push(i.slice(f)),l.length>s?l.slice(0,s):l}}():"0".split(void 0,0).length&&(l.split=function(t,e){return void 0===t&&0===e?[]:k.call(this,t,e)});var _=l.substr,C="".substr&&"b"!=="0b".substr(-1);b(l,{substr:function(t,e){return _.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},C)},function(t,e,s){"use strict";t.exports=[s(56),s(58),s(27),s(23),s(14)(s(23)),s(24),s(14)(s(24)),s(28),s(57),s(14)(s(28)),s(48)]},function(t,e,s){"use strict";(function(e){var s=e.WebSocket||e.MozWebSocket;t.exports=s?function(t){return new s(t)}:void 0}).call(e,s(1))},function(t,e,s){"use strict";(function(e){function i(t){if(!i.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/jsonp",a,n)}var r=s(0),o=s(26),n=s(53),a=s(54);r(i,o),i.enabled=function(){return!!e.document},i.transportName="jsonp-polling",i.roundTrips=1,i.needBody=!0,t.exports=i}).call(e,s(1))},function(t,e,s){"use strict";function i(t,e){n(t),o.call(this),this.sendBuffer=[],this.sender=e,this.url=t}var r=s(0),o=s(2).EventEmitter,n=function(){};r(i,o),i.prototype.send=function(t){n("send",t),this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},i.prototype.sendScheduleWait=function(){n("sendScheduleWait");var t,e=this;this.sendStop=function(){n("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){n("timeout"),e.sendStop=null,e.sendSchedule()},25)},i.prototype.sendSchedule=function(){n("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(n("error",e),t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}},i.prototype._cleanup=function(){n("_cleanup"),this.removeAllListeners()},i.prototype.close=function(){n("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=i},function(t,e,s){"use strict";function i(t,e,s){n(e),o.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=s,this._scheduleReceiver()}var r=s(0),o=s(2).EventEmitter,n=function(){};r(i,o),i.prototype._scheduleReceiver=function(){n("_scheduleReceiver");var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){n("message",e),t.emit("message",e)}),e.once("close",function(s,i){n("close",s,i,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||("network"===i?t._scheduleReceiver():(t.emit("close",s||1006,i),t.removeAllListeners()))})},i.prototype.abort=function(){n("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=i},function(t,e,s){"use strict";function i(t){a(t),o.call(this);var e=this,s=this.es=new n(t);s.onmessage=function(t){a("message",t.data),e.emit("message",decodeURI(t.data))},s.onerror=function(t){a("error",s.readyState,t);var i=2!==s.readyState?"network":"permanent";e._cleanup(),e._close(i)}}var r=s(0),o=s(2).EventEmitter,n=s(22),a=function(){};r(i,o),i.prototype.abort=function(){a("abort"),this._cleanup(),this._close("user")},i.prototype._cleanup=function(){a("cleanup");var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},i.prototype._close=function(t){a("close",t);var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},t.exports=i},function(t,e,s){"use strict";(function(e){function i(t){c(t),a.call(this);var s=this;o.polluteGlobalNamespace(),this.id="a"+h.string(6),t=n.addQuery(t,"c="+decodeURIComponent(o.WPrefix+"."+this.id)),c("using htmlfile",i.htmlfileEnabled);var r=i.htmlfileEnabled?o.createHtmlfile:o.createIframe;e[o.WPrefix][this.id]={start:function(){c("start"),s.iframeObj.loaded()},message:function(t){c("message",t),s.emit("message",t)},stop:function(){c("stop"),s._cleanup(),s._close("network")}},this.iframeObj=r(t,function(){c("callback"),s._cleanup(),s._close("permanent")})}var r=s(0),o=s(10),n=s(3),a=s(2).EventEmitter,h=s(7),c=function(){};r(i,a),i.prototype.abort=function(){c("abort"),this._cleanup(),this._close("user")},i.prototype._cleanup=function(){c("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete e[o.WPrefix][this.id]},i.prototype._close=function(t){c("_close",t),this.emit("close",null,t),this.removeAllListeners()},i.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in e)try{i.htmlfileEnabled=!!new e[l]("htmlfile")}catch(t){}i.enabled=i.htmlfileEnabled||o.iframeEnabled,t.exports=i}).call(e,s(1))},function(t,e,s){"use strict";(function(e){function i(t){l(t);var s=this;c.call(this),r.polluteGlobalNamespace(),this.id="a"+o.string(6);var n=a.addQuery(t,"c="+encodeURIComponent(r.WPrefix+"."+this.id));e[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){l("timeout"),s._abort(new Error("JSONP script loaded abnormally (timeout)"))},i.timeout)}var r=s(10),o=s(7),n=s(9),a=s(3),h=s(0),c=s(2).EventEmitter,l=function(){};h(i,c),i.prototype.abort=function(){if(l("abort"),e[r.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},i.timeout=35e3,i.scriptErrorTimeout=1e3,i.prototype._callback=function(t){l("_callback",t),this._cleanup(),this.aborting||(t&&(l("message",t),this.emit("message",t)),this.emit("close",null,"network"),this.removeAllListeners())},i.prototype._abort=function(t){l("_abort",t),this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},i.prototype._cleanup=function(){if(l("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete e[r.WPrefix][this.id]},i.prototype._scriptError=function(){l("_scriptError");var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},i.scriptErrorTimeout))},i.prototype._createScript=function(t){l("_createScript",t);var s,i=this,r=this.script=e.document.createElement("script");if(r.id="a"+o.string(8),r.src=t,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){l("onload"),i._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(l("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){i.loadedOkay=!0;try{r.onclick()}catch(t){}}r&&i._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===r.async&&e.document.attachEvent)if(n.isOpera())s=this.script2=e.document.createElement("script"),s.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=s.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch(t){}r.async=!0}void 0!==r.async&&(r.async=!0);var a=e.document.getElementsByTagName("head")[0];a.insertBefore(r,a.firstChild),s&&a.insertBefore(s,a.firstChild)},t.exports=i}).call(e,s(1))},function(t,e,s){"use strict";(function(e){function i(t){c("createIframe",t);try{return e.document.createElement('<iframe name="'+t+'">')}catch(i){var s=e.document.createElement("iframe");return s.name=t,s}}function r(){c("createForm"),o=e.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",n=e.document.createElement("textarea"),n.name="d",o.appendChild(n),e.document.body.appendChild(o)}var o,n,a=s(7),h=s(3),c=function(){};t.exports=function(t,e,s){c(t,e),o||r();var l="a"+a.string(8);o.target=l,o.action=h.addQuery(h.addPath(t,"/jsonp_send"),"i="+l);var u=i(l);u.id=l,u.style.display="none",o.appendChild(u);try{n.value=e}catch(t){}o.submit();var p=function(t){c("completed",l,t),u.onerror&&(u.onreadystatechange=u.onerror=u.onload=null,setTimeout(function(){c("cleaning up",l),u.parentNode.removeChild(u),u=null},500),n.value="",s(t))};return u.onerror=function(){c("onerror",l),p()},u.onload=function(){c("onload",l),p()},u.onreadystatechange=function(t){c("onreadystatechange",l,u.readyState,t),"complete"===u.readyState&&p()},function(){c("aborted",l),p(new Error("Aborted"))}}}).call(e,s(1))},function(t,e,s){"use strict";function i(){var t=this;r.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},i.timeout)}var r=s(2).EventEmitter;s(0)(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,t.exports=i},function(t,e,s){"use strict";function i(t,e,s){if(!i.enabled())throw new Error("Transport created when disabled");a.call(this),c("constructor",t);var n=this,l=o.addPath(t,"/websocket");l="https"===l.slice(0,5)?"wss"+l.slice(5):"ws"+l.slice(4),this.url=l,this.ws=new h(this.url,[],s),this.ws.onmessage=function(t){c("message event",t.data),n.emit("message",t.data)},this.unloadRef=r.unloadAdd(function(){c("unload"),n.ws.close()}),this.ws.onclose=function(t){c("close event",t.code,t.reason),n.emit("close",t.code,t.reason),n._cleanup()},this.ws.onerror=function(t){c("error event",t),n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}var r=s(5),o=s(3),n=s(0),a=s(2).EventEmitter,h=s(47),c=function(){};n(i,a),i.prototype.send=function(t){var e="["+t+"]";c("send",e),this.ws.send(e)},i.prototype.close=function(){c("close");var t=this.ws;this._cleanup(),t&&t.close()},i.prototype._cleanup=function(){c("_cleanup");var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},i.enabled=function(){return c("enabled"),!!h},i.transportName="websocket",i.roundTrips=2,t.exports=i},function(t,e,s){"use strict";function i(t){if(!h.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",a,h)}var r=s(0),o=s(6),n=s(27),a=s(11),h=s(15);r(i,o),i.enabled=n.enabled,i.transportName="xdr-polling",i.roundTrips=2,t.exports=i},function(t,e,s){"use strict";(function(e){function i(t){if(!h.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",n,a)}var r=s(0),o=s(6),n=s(11),a=s(12),h=s(8),c=s(9);r(i,o),i.enabled=function(t){return!t.nullOrigin&&(!c.isOpera()&&a.enabled)},i.transportName="xhr-streaming",i.roundTrips=2,i.needBody=!!e.document,t.exports=i}).call(e,s(1))},function(t,e,s){"use strict";(function(e){e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var s=new Uint8Array(t);return e.crypto.getRandomValues(s),s}:t.exports.randomBytes=function(t){for(var e=new Array(t),s=0;s<t;s++)e[s]=Math.floor(256*Math.random());return e}}).call(e,s(1))},function(t,e,s){"use strict";var i,r=s(4),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,n=function(t){var e,s={},i=[];for(e=0;e<65536;e++)i.push(String.fromCharCode(e));return t.lastIndex=0,i.join("").replace(t,function(t){return s[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,s};t.exports={quote:function(t){var e=r.stringify(t);return o.lastIndex=0,o.test(e)?(i||(i=n(o)),e.replace(o,function(t){return i[t]})):e}}},function(t,e,s){"use strict";(function(e){var s={};["log","debug","warn"].forEach(function(t){var i;try{i=e.console&&e.console[t]&&e.console[t].apply}catch(t){}s[t]=i?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:s.log}),t.exports=s}).call(e,s(1))},function(t,e,s){"use strict";var i=function(){};t.exports=function(t){return{filterToEnabled:function(e,s){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){if(t)return"websocket"===t.transportName&&!1===s.websocket?void i("disabled from server","websocket"):e.length&&-1===e.indexOf(t.transportName)?void i("not in whitelist",t.transportName):void(t.enabled(s)?(i("enabled",t.transportName),r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)):i("disabled",t.transportName))}),r}}}},function(t,e,s){(function(e){(function(){"use strict";function e(){this._events=this._events||{}}function s(){e.call(this)}function i(t){var e=this;if(!(this instanceof i))return new i(arguments[0],arguments[1],arguments[2]);s.call(this),"number"==typeof t&&(t={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),t=t||{},p(f(i.defaults),function(s){null==t[s]&&(t[s]=i.options[s],i[s]!==i.defaults[s]&&(t[s]=i[s])),e[s]=t[s]}),8===t.colors.length?t.colors=t.colors.concat(i._colors.slice(8)):16===t.colors.length?t.colors=t.colors.concat(i._colors.slice(16)):10===t.colors.length?t.colors=t.colors.slice(0,-2).concat(i._colors.slice(8,-2),t.colors.slice(-2)):18===t.colors.length&&(t.colors=t.colors.slice(0,-2).concat(i._colors.slice(16,-2),t.colors.slice(-2))),this.colors=t.colors,this.options=t,this.parent=t.body||t.parent||(d?d.getElementsByTagName("body")[0]:null),this.cols=t.cols||t.geometry[0],this.rows=t.rows||t.geometry[1],this.setRawMode,this.isTTY=!0,this.isRaw=!0,this.columns=this.cols,this.rows=this.rows,t.handler&&this.on("data",t.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.state=0,this.queue="",this.scrollTop=0,this.scrollBottom=this.rows-1,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!1,this.normal=null,this.prefixMode=!1,this.selectMode=!1,this.visualMode=!1,this.searchMode=!1,this.searchDown,this.entry="",this.entryPrefix="Search: ",this._real,this._selected,this._textarea,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.lines=[];for(var r=this.rows;r--;)this.lines.push(this.blankLine());this.tabs,this.setupStops()}function r(t,e,s,i){t.addEventListener(e,s,i||!1)}function o(t,e,s,i){t.removeEventListener(e,s,i||!1)}function n(t){return t.preventDefault&&t.preventDefault(),t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,!1}function a(t,e){function s(){this.constructor=t}s.prototype=e.prototype,t.prototype=new s}function h(t){var e=t.getElementsByTagName("body")[0],s=t.createElement("div");s.className="terminal";var i=t.createElement("div"),r=t.createElement("span");r.innerHTML="hello world",i.appendChild(r),s.appendChild(i),e.appendChild(s);var o=r.scrollWidth;r.style.fontWeight="bold";var n=r.scrollWidth;return e.removeChild(s),o!==n}function c(t,e){for(var s=t.length;s--;)if(t[s]===e)return s;return-1}function l(t){return!(t<="＀")&&(t>="！"&&t<="ﾾ"||t>="ￂ"&&t<="ￇ"||t>="ￊ"&&t<="ￏ"||t>="ￒ"&&t<="ￗ"||t>="ￚ"&&t<="ￜ"||t>="￠"&&t<="￦"||t>="￨"&&t<="￮")}function u(t,e,s){var r=t<<16|e<<8|s;if(null!=u._cache[r])return u._cache[r];for(var o,n,a,h,c,l=1/0,p=-1,f=0;f<i.vcolors.length;f++){if(o=i.vcolors[f],n=o[0],a=o[1],h=o[2],0===(c=u.distance(t,e,s,n,a,h))){p=f;break}c<l&&(l=c,p=f)}return u._cache[r]=p}function p(t,e,s){if(t.forEach)return t.forEach(e,s);for(var i=0;i<t.length;i++)e.call(s,t[i],i,t)}function f(t){if(Object.keys)return Object.keys(t);var e,s=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.push(e);return s}var d=this.document;e.prototype.addListener=function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)},e.prototype.on=e.prototype.addListener,e.prototype.removeListener=function(t,e){if(this._events[t])for(var s=this._events[t],i=s.length;i--;)if(s[i]===e||s[i].listener===e)return void s.splice(i,1)},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(t){this._events[t]&&delete this._events[t]},e.prototype.once=function(t,e){function s(){var i=Array.prototype.slice.call(arguments);return this.removeListener(t,s),e.apply(this,i)}return s.listener=e,this.on(t,s)},e.prototype.emit=function(t){if(this._events[t])for(var e=Array.prototype.slice.call(arguments,1),s=this._events[t],i=s.length,r=0;r<i;r++)s[r].apply(this,e)},e.prototype.listeners=function(t){return this._events[t]=this._events[t]||[]},a(s,e),s.prototype.pipe=function(t,e){function s(){n.removeListener("data",i),n.removeListener("error",r),n.removeListener("end",o),t.removeListener("error",r),t.removeListener("close",s)}var i,r,o,n=this;return n.on("data",i=function(e){t.write(e)}),n.on("error",r=function(t){if(s(),!this.listeners("error").length)throw t}),n.on("end",o=function(){t.end(),s()}),t.on("error",r),t.on("close",s),t.emit("pipe",n),t};var y={type:"udk"};a(i,s),i.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],i.xtermColors=["#000000","#cd0000","#00cd00","#cdcd00","#0000ee","#cd00cd","#00cdcd","#e5e5e5","#7f7f7f","#ff0000","#00ff00","#ffff00","#5c5cff","#ff00ff","#00ffff","#ffffff"],i.colors=function(){function t(t,s,i){r.push("#"+e(t)+e(s)+e(i))}function e(t){return t=t.toString(16),t.length<2?"0"+t:t}var s,r=i.tangoColors.slice(),o=[0,95,135,175,215,255];for(s=0;s<216;s++)t(o[s/36%6|0],o[s/6%6|0],o[s%6]);for(s=0;s<24;s++)o=8+10*s,t(o,o,o);return r}(),i.colors[256]="#000000",i.colors[257]="#f0f0f0",i._colors=i.colors.slice(),i.vcolors=function(){for(var t,e=[],s=i.colors,r=0;r<256;r++)t=parseInt(s[r].substring(1),16),e.push([t>>16&255,t>>8&255,255&t]);return e}(),i.defaults={colors:i.colors,convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!0,visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,useStyle:!1},i.options={},p(f(i.defaults),function(t){i[t]=i.defaults[t],i.options[t]=i.defaults[t]}),i.focus=null,i.prototype.focus=function(){i.focus!==this&&(i.focus&&i.focus.blur(),this.sendFocus&&this.send("[I"),this.showCursor(),i.focus=this)},i.prototype.blur=function(){i.focus===this&&(this.cursorState=0,this.refresh(this.y,this.y),this.sendFocus&&this.send("[O"),i.focus=null)},i.prototype.initGlobal=function(){var t=this.document;i._boundDocs=i._boundDocs||[],~c(i._boundDocs,t)||(i._boundDocs.push(t),i.bindPaste(t),i.bindKeys(t),i.bindCopy(t),this.isMobile&&this.fixMobile(t),this.useStyle&&i.insertStyle(t,this.colors[256],this.colors[257]))},i.bindPaste=function(t){r(t.defaultView,"paste",function(t){var e=i.focus;if(e)return t.clipboardData?e.send(t.clipboardData.getData("text/plain")):e.context.clipboardData&&e.send(e.context.clipboardData.getData("Text")),e.element.contentEditable="inherit",n(t)})},i.bindKeys=function(t){r(t,"keydown",function(t){if(i.focus){var e=t.target||t.srcElement;if(e)return e===i.focus.element||e===i.focus.context||e===i.focus.document||e===i.focus.body||e===i._textarea||e===i.focus.parent?i.focus.keyDown(t):void 0}},!0),r(t,"keypress",function(t){if(i.focus){var e=t.target||t.srcElement;if(e)return e===i.focus.element||e===i.focus.context||e===i.focus.document||e===i.focus.body||e===i._textarea||e===i.focus.parent?i.focus.keyPress(t):void 0}},!0),r(t,"mousedown",function(t){if(i.focus){var e=t.target||t.srcElement;if(e){do{if(e===i.focus.element)return}while(e=e.parentNode);i.focus.blur()}}})},i.bindCopy=function(t){r(t.defaultView,"copy",function(t){var e=i.focus;if(e&&e._selected){var s=e.getCopyTextarea(),r=e.grabText(e._selected.x1,e._selected.x2,e._selected.y1,e._selected.y2);e.emit("copy",r),s.focus(),s.textContent=r,s.value=r,s.setSelectionRange(0,r.length),b(function(){e.element.focus(),e.focus()},1)}})},i.prototype.fixMobile=function(t){var e=this,s=t.createElement("textarea");s.style.position="absolute",s.style.left="-32000px",s.style.top="-32000px",s.style.width="0px",s.style.height="0px",s.style.opacity="0",s.style.backgroundColor="transparent",s.style.borderStyle="none",s.style.outlineStyle="none",s.autocapitalize="none",s.autocorrect="off",t.getElementsByTagName("body")[0].appendChild(s),i._textarea=s,b(function(){s.focus()},1e3),this.isAndroid&&r(s,"change",function(){var t=s.textContent||s.value;s.value="",s.textContent="",e.send(t+"\r")})},i.insertStyle=function(t,e,s){var i=t.getElementById("term-style");if(!i){var r=t.getElementsByTagName("head")[0];if(r){var i=t.createElement("style");i.id="term-style",i.innerHTML=".terminal {\n  float: left;\n  border: "+e+' solid 5px;\n  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n  font-size: 11px;\n  color: '+s+";\n  background: "+e+";\n}\n\n.terminal-cursor {\n  color: "+e+";\n  background: "+s+";\n}\n",r.insertBefore(i,r.firstChild)}}},i.prototype.open=function(t){var e,s=this,o=0;if(this.parent=t||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");for(this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName("body")[0],this.context.navigator&&this.context.navigator.userAgent&&(this.isMac=!!~this.context.navigator.userAgent.indexOf("Mac"),this.isIpad=!!~this.context.navigator.userAgent.indexOf("iPad"),this.isIphone=!!~this.context.navigator.userAgent.indexOf("iPhone"),this.isAndroid=!!~this.context.navigator.userAgent.indexOf("Android"),this.isMobile=this.isIpad||this.isIphone||this.isAndroid,this.isMSIE=!!~this.context.navigator.userAgent.indexOf("MSIE")),this.element=this.document.createElement("div"),this.element.className="terminal",this.element.style.outline="none",this.element.setAttribute("tabindex",0),this.element.setAttribute("spellcheck","false"),this.element.style.backgroundColor=this.colors[256],this.element.style.color=this.colors[257],this.children=[];o<this.rows;o++)e=this.document.createElement("div"),this.element.appendChild(e),this.children.push(e);this.parent.appendChild(this.element),this.refresh(0,this.rows-1),"useEvents"in this.options&&!this.options.useEvents||this.initGlobal(),"useFocus"in this.options&&!this.options.useFocus||(this.focus(),this.startBlink(),r(this.element,"focus",function(){s.focus(),s.isMobile&&i._textarea.focus()}),r(this.element,"mousedown",function(){s.focus()}),r(this.element,"mousedown",function(t){var e=null!=t.button?+t.button:null!=t.which?t.which-1:null;s.isMSIE&&(e=1===e?0:4===e?1:e),2===e&&(s.element.contentEditable="true",b(function(){s.element.contentEditable="inherit"},1))},!0)),"useMouse"in this.options&&!this.options.useMouse||this.bindMouse(),"useFocus"in this.options&&!this.options.useFocus||b(function(){s.element.focus()},100),null==i.brokenBold&&(i.brokenBold=h(this.document)),this.emit("open")},i.prototype.setRawMode=function(t){this.isRaw=!!t},i.prototype.bindMouse=function(){function t(t){var e,s;if(e=a(t),s=h(t))switch(i(e,s),t.type){case"mousedown":u=e;break;case"mouseup":u=32}}function e(t){var e,s=u;(e=h(t))&&(s+=32,i(s,e))}function s(t,e){if(l.utfMouse){if(2047===e)return t.push(0);e<127?t.push(e):(e>2047&&(e=2047),t.push(192|e>>6),t.push(128|63&e))}else{if(255===e)return t.push(0);e>127&&(e=127),t.push(e)}}function i(t,e){if(l.vt300Mouse){t&=3,e.x-=32,e.y-=32;var i="[24";if(0===t)i+="1";else if(1===t)i+="3";else if(2===t)i+="5";else{if(3===t)return;i+="0"}return i+="~["+e.x+","+e.y+"]\r",void l.send(i)}if(l.decLocator)return t&=3,e.x-=32,e.y-=32,0===t?t=2:1===t?t=4:2===t?t=6:3===t&&(t=3),void l.send("["+t+";"+(3===t?4:0)+";"+e.y+";"+e.x+";"+(e.page||0)+"&w");if(l.urxvtMouse)return e.x-=32,e.y-=32,e.x++,e.y++,void l.send("["+t+";"+e.x+";"+e.y+"M");if(l.sgrMouse)return e.x-=32,e.y-=32,void l.send("[<"+(3==(3&t)?-4&t:t)+";"+e.x+";"+e.y+(3==(3&t)?"m":"M"));var i=[];s(i,t),s(i,e.x),s(i,e.y),l.send("[M"+m.fromCharCode.apply(m,i))}function a(t){var e,s,i,r,o;switch(t.type){case"mousedown":e=null!=t.button?+t.button:null!=t.which?t.which-1:null,l.isMSIE&&(e=1===e?0:4===e?1:e);break;case"mouseup":e=3;break;case"DOMMouseScroll":e=t.detail<0?64:65;break;case"mousewheel":e=t.wheelDeltaY>0?64:65}return s=t.shiftKey?4:0,i=t.metaKey?8:0,r=t.ctrlKey?16:0,o=s|i|r,l.vt200Mouse?o&=r:l.normalMouse||(o=0),e=32+(o<<2)+e}function h(t){var e,s,i,r,o;if(null!=t.pageX){for(e=t.pageX,s=t.pageY,o=l.element;o&&o!==l.document.documentElement;)e-=o.offsetLeft,s-=o.offsetTop,o="offsetParent"in o?o.offsetParent:o.parentNode;return i=l.element.clientWidth,r=l.element.clientHeight,e=Math.round(e/i*l.cols),s=Math.round(s/r*l.rows),e<0&&(e=0),e>l.cols&&(e=l.cols),s<0&&(s=0),s>l.rows&&(s=l.rows),e+=32,s+=32,{x:e,y:s,type:t.type===p?"mousewheel":t.type}}}var c=this.element,l=this,u=32,p="onmousewheel"in this.context?"mousewheel":"DOMMouseScroll";r(c,"mousedown",function(s){if(l.mouseEvents)return t(s),l.focus(),l.normalMouse&&r(l.document,"mousemove",e),l.x10Mouse||r(l.document,"mouseup",function s(i){return t(i),l.normalMouse&&o(l.document,"mousemove",e),o(l.document,"mouseup",s),n(i)}),n(s)}),r(c,p,function(e){if(l.mouseEvents&&!(l.x10Mouse||l.vt300Mouse||l.decLocator))return t(e),n(e)}),r(c,p,function(t){if(!l.mouseEvents&&!l.applicationKeypad)return"DOMMouseScroll"===t.type?l.scrollDisp(t.detail<0?-5:5):l.scrollDisp(t.wheelDeltaY>0?-5:5),n(t)})},i.prototype.close=i.prototype.destroySoon=i.prototype.destroy=function(){this.destroyed||(this._blink&&(clearInterval(this._blink),delete this._blink),this.readable=!1,this.writable=!1,this.destroyed=!0,this._events={},this.handler=function(){},this.write=function(){},this.end=function(){},this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.emit("end"),this.emit("close"),this.emit("finish"),this.emit("destroy"))},i.prototype.refresh=function(t,e){var s,r,o,n,a,h,c,u,p,f,d,y,m,b;for(e-t>=this.rows/2&&(b=this.element.parentNode)&&b.removeChild(this.element),c=this.cols,r=t,e>=this.lines.length&&(this.log("`end` is too large. Most likely a bad CSR."),e=this.lines.length-1);r<=e;r++){for(m=r+this.ydisp,n=this.lines[m],a="",s=r!==this.y||!this.cursorState||this.ydisp!==this.ybase&&!this.selectMode||this.cursorHidden?-1:this.x,p=this.defAttr,o=0;o<c;o++){switch(u=n[o][0],h=n[o][1],o===s&&(u=-1),u!==p&&(p!==this.defAttr&&(a+="</span>"),u!==this.defAttr&&(-1===u?a+='<span class="reverse-video terminal-cursor">':(a+='<span style="',f=511&u,d=u>>9&511,y=u>>18,1&y&&(i.brokenBold||(a+="font-weight:bold;"),d<8&&(d+=8)),2&y&&(a+="text-decoration:underline;"),4&y&&(2&y?(a=a.slice(0,-1),a+=" blink;"):a+="text-decoration:blink;"),8&y&&(f=u>>9&511,d=511&u,1&y&&d<8&&(d+=8)),16&y&&(a+="visibility:hidden;"),256!==f&&(a+="background-color:"+this.colors[f]+";"),257!==d&&(a+="color:"+this.colors[d]+";"),a+='">'))),h){case"&":a+="&amp;";break;case"<":a+="&lt;";break;case">":a+="&gt;";break;default:h<=" "?a+="&nbsp;":(l(h)&&o++,a+=h)}p=u}p!==this.defAttr&&(a+="</span>"),this.children[r].innerHTML=a}b&&b.appendChild(this.element)},i.prototype._cursorBlink=function(){i.focus===this&&(this.cursorState^=1,this.refresh(this.y,this.y))},i.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},i.prototype.startBlink=function(){if(this.cursorBlink){var t=this;this._blinker=function(){t._cursorBlink()},this._blink=v(this._blinker,500)}},i.prototype.refreshBlink=function(){this.cursorBlink&&this._blink&&(clearInterval(this._blink),this._blink=v(this._blinker,500))},i.prototype.scroll=function(){var t;++this.ybase===this.scrollback&&(this.ybase=this.ybase/2|0,this.lines=this.lines.slice(1-(this.ybase+this.rows))),this.ydisp=this.ybase,t=this.ybase+this.rows-1,t-=this.rows-1-this.scrollBottom,t===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(t,0,this.blankLine()),0!==this.scrollTop&&(0!==this.ybase&&(this.ybase--,this.ydisp=this.ybase),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},i.prototype.scrollDisp=function(t){this.ydisp+=t,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),this.refresh(0,this.rows-1)},i.prototype.write=function(t){var e,s,r,o=t.length,n=0;for(this.refreshStart=this.y,this.refreshEnd=this.y,this.ybase!==this.ydisp&&(this.ydisp=this.ybase,this.maxRange());n<o;n++,this.lch=r)switch(r=t[n],this.state){case 0:switch(r){case"":this.bell();break;case"\n":case"\v":case"\f":this.convertEol&&(this.x=0),this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());break;case"\r":this.x=0;break;case"\b":this.x>0&&this.x--;break;case"\t":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=1;break;default:if(r>=" "&&(this.charset&&this.charset[r]&&(r=this.charset[r]),this.x>=this.cols&&(this.x=0,++this.y>this.scrollBottom&&(this.y--,this.scroll())),this.lines[this.y+this.ybase][this.x]=[this.curAttr,r],this.x++,this.updateRange(this.y),l(r))){if(e=this.y+this.ybase,this.cols<2||this.x>=this.cols){this.lines[e][this.x-1]=[this.curAttr," "];break}this.lines[e][this.x]=[this.curAttr," "],this.x++}}break;case 1:switch(r){case"[":this.params=[],this.currentParam=0,this.state=2;break;case"]":this.params=[],this.currentParam=0,this.state=3;break;case"P":this.params=[],this.prefix="",this.currentParam="",this.state=5;break;case"_":case"^":this.state=6;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0),this.setgCharset(0,i.charsets.US),this.state=0,n++;break;case"(":case")":case"*":case"+":case"-":case".":switch(r){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2}this.state=4;break;case"/":this.gcharset=3,this.state=4,n--;break;case"N":case"O":break;case"n":this.setgLevel(2);break;case"o":case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor(),this.state=0;break;case"8":this.restoreCursor(),this.state=0;break;case"#":this.state=0,n++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad."),this.applicationKeypad=!0,this.state=0;break;case">":this.log("Switching back to normal keypad."),this.applicationKeypad=!1,this.state=0;break;default:this.state=0,this.error("Unknown ESC control: %s.",r)}break;case 4:switch(r){case"0":s=i.charsets.SCLD;break;case"A":s=i.charsets.UK;break;case"B":s=i.charsets.US;break;case"4":s=i.charsets.Dutch;break;case"C":case"5":s=i.charsets.Finnish;break;case"R":s=i.charsets.French;break;case"Q":s=i.charsets.FrenchCanadian;break;case"K":s=i.charsets.German;break;case"Y":s=i.charsets.Italian;break;case"E":case"6":s=i.charsets.NorwegianDanish;break;case"Z":s=i.charsets.Spanish;break;case"H":case"7":s=i.charsets.Swedish;break;case"=":s=i.charsets.Swiss;break;case"/":s=i.charsets.ISOLatin,n++;break;default:s=i.charsets.US}this.setgCharset(this.gcharset,s),this.gcharset=null,this.state=0;break;case 3:if(""===this.lch&&"\\"===r||""===r){switch(""===this.lch&&("string"==typeof this.currentParam?this.currentParam=this.currentParam.slice(0,-1):"number"==typeof this.currentParam&&(this.currentParam=(this.currentParam-("".charCodeAt(0)-48))/10)),this.params.push(this.currentParam),this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1],this.handleTitle(this.title))}this.params=[],this.currentParam=0,this.state=0}else this.params.length?this.currentParam+=r:r>="0"&&r<="9"?this.currentParam=10*this.currentParam+r.charCodeAt(0)-48:";"===r&&(this.params.push(this.currentParam),this.currentParam="");break;case 2:if("?"===r||">"===r||"!"===r){this.prefix=r;break}if(r>="0"&&r<="9"){this.currentParam=10*this.currentParam+r.charCodeAt(0)-48;break}if("$"===r||'"'===r||" "===r||"'"===r){this.postfix=r;break}if(this.params.push(this.currentParam),this.currentParam=0,";"===r)break;switch(this.state=0,r){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":this.prefix||this.charAttributes(this.params);break;case"n":this.prefix||this.deviceStatus(this.params);break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":this.setMode(this.params);break;case"l":this.resetMode(this.params);break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":this.params.length<2&&!this.prefix&&this.scrollDown(this.params);break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params)}break;default:this.error("Unknown CSI code: %s.",r)}this.prefix="",this.postfix="";break;case 5:if(""===this.lch&&"\\"===r||""===r){if("tmux;"===this.prefix&&""===r){this.currentParam+=r;continue}""===this.lch&&("string"==typeof this.currentParam?this.currentParam=this.currentParam.slice(0,-1):"number"==typeof this.currentParam&&(this.currentParam=(this.currentParam-("".charCodeAt(0)-48))/10)),this.params.push(this.currentParam);var a=this.params[this.params.length-1];switch(this.prefix){case y:this.emit("udk",{clearAll:0===this.params[0],eraseBelow:1===this.params[0],lockKeys:0===this.params[1],dontLockKeys:1===this.params[1],keyList:(this.params[2]+"").split(";").map(function(t){return t=t.split("/"),{keyCode:t[0],hexKeyValue:t[1]}})});break;case"$q":var h=0;switch(a){case'"q':a='0"q',h=1;break;case'"p':a='61;0"p',h=1;break;case"r":a=this.scrollTop+1+";"+(this.scrollBottom+1)+"r",h=1;break;case"m":h=0;break;default:this.error("Unknown DCS Pt: %s.",a),h=0}this.send("P"+h+"$r"+a+"\\");break;case"+p":this.emit("set terminfo",{name:this.params[0]});break;case"+q":var h=!1;this.send("P"+ +h+"+r"+a+"\\");break;case"tmux;":this.emit("passthrough",a);break;default:this.error("Unknown DCS prefix: %s.",a)}this.currentParam=0,this.prefix="",this.state=0}else this.currentParam+=r,this.prefix||(/^\d*;\d*\|/.test(this.currentParam)?(this.prefix=y,this.params=this.currentParam.split(/[;|]/).map(function(t){return t.length?+t:0}).slice(0,-1),this.currentParam=""):(/^[$+][a-zA-Z]/.test(this.currentParam)||/^\w+;\x1b/.test(this.currentParam))&&(this.prefix=this.currentParam,this.currentParam=""));break;case 6:(""===this.lch&&"\\"===r||""===r)&&(this.state=0)}return this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd),!0},i.prototype.writeln=function(t){return this.write(t+"\r\n")},i.prototype.end=function(t){var e=!0;return t&&(e=this.write(t)),this.destroySoon(),e},i.prototype.resume=function(){},i.prototype.pause=function(){},i.prototype.keyDown=function(t){var e,s=this;switch(t.keyCode){case 8:if(t.altKey){e="";break}if(t.shiftKey){e="\b";break}e="";break;case 9:if(t.shiftKey){e="[Z";break}e="\t";break;case 13:e="\r";break;case 27:e="";break;case 37:if(this.applicationCursor){e="OD";break}if(t.ctrlKey){e="[5D";break}e="[D";break;case 39:if(this.applicationCursor){e="OC";break}if(t.ctrlKey){e="[5C";break}e="[C";break;case 38:if(this.applicationCursor){e="OA";break}if(t.ctrlKey)return this.scrollDisp(-1),n(t);e="[A";break;case 40:if(this.applicationCursor){e="OB";break}if(t.ctrlKey)return this.scrollDisp(1),n(t);e="[B";break;case 46:e="[3~";break;case 45:e="[2~";break;case 36:if(this.applicationKeypad){e="OH";break}e="OH";break;case 35:if(this.applicationKeypad){e="OF";break}e="OF";break;case 33:if(t.shiftKey)return this.scrollDisp(-(this.rows-1)),n(t);e="[5~";break;case 34:if(t.shiftKey)return this.scrollDisp(this.rows-1),n(t);e="[6~";break;case 112:e="OP";break;case 113:e="OQ";break;case 114:e="OR";break;case 115:e="OS";break;case 116:e="[15~";break;case 117:e="[17~";break;case 118:e="[18~";break;case 119:e="[19~";break;case 120:e="[20~";break;case 121:e="[21~";break;case 122:e="[23~";break;case 123:e="[24~";break;default:if(t.ctrlKey)if(t.keyCode>=65&&t.keyCode<=90){if(this.screenKeys&&!this.prefixMode&&!this.selectMode&&65===t.keyCode)return this.enterPrefix(),n(t);if(this.prefixMode&&86===t.keyCode)return void this.leavePrefix();if((this.prefixMode||this.selectMode)&&67===t.keyCode)return void(this.visualMode&&b(function(){s.leaveVisual()},1));e=m.fromCharCode(t.keyCode-64)}else 32===t.keyCode?e=m.fromCharCode(0):t.keyCode>=51&&t.keyCode<=55?e=m.fromCharCode(t.keyCode-51+27):56===t.keyCode?e=m.fromCharCode(127):219===t.keyCode?e=m.fromCharCode(27):221===t.keyCode&&(e=m.fromCharCode(29));else t.altKey&&(t.keyCode>=65&&t.keyCode<=90?e=""+m.fromCharCode(t.keyCode+32):192===t.keyCode?e="`":t.keyCode>=48&&t.keyCode<=57&&(e=""+(t.keyCode-48)))}return!e||(this.prefixMode?(this.leavePrefix(),n(t)):this.selectMode?(this.keySelect(t,e),n(t)):(this.emit("keydown",t),this.emit("key",e,t),this.showCursor(),this.handler(e),n(t)))},i.prototype.setgLevel=function(t){this.glevel=t,this.charset=this.charsets[t]},i.prototype.setgCharset=function(t,e){this.charsets[t]=e,this.glevel===t&&(this.charset=e)},i.prototype.keyPress=function(t){var e;if(n(t),t.charCode)e=t.charCode;else if(null==t.which)e=t.keyCode;else{if(0===t.which||0===t.charCode)return!1;e=t.which}return!(!e||t.ctrlKey||t.altKey||t.metaKey)&&(e=m.fromCharCode(e),this.prefixMode?(this.leavePrefix(),this.keyPrefix(t,e),!1):this.selectMode?(this.keySelect(t,e),!1):(this.emit("keypress",e,t),this.emit("key",e,t),this.showCursor(),this.handler(e),!1))},i.prototype.send=function(t){var e=this;this.queue||b(function(){e.handler(e.queue),e.queue=""},1),this.queue+=t},i.prototype.bell=function(){if(this.emit("bell"),this.visualBell){var t=this;this.element.style.borderColor="white",b(function(){t.element.style.borderColor=""},10),this.popOnBell&&this.focus()}},i.prototype.log=function(){if(this.debug&&this.context.console&&this.context.console.log){var t=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,t)}},i.prototype.error=function(){if(this.debug&&this.context.console&&this.context.console.error){var t=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,t)}},i.prototype.resize=function(t,e){var s,i,r,o,n;if(t<1&&(t=1),e<1&&(e=1),(o=this.cols)<t)for(n=[this.defAttr," "],r=this.lines.length;r--;)for(;this.lines[r].length<t;)this.lines[r].push(n);else if(o>t)for(r=this.lines.length;r--;)for(;this.lines[r].length>t;)this.lines[r].pop();if(this.setupStops(o),this.cols=t,this.columns=t,(o=this.rows)<e)for(i=this.element;o++<e;)this.lines.length<e+this.ybase&&this.lines.push(this.blankLine()),this.children.length<e&&(s=this.document.createElement("div"),i.appendChild(s),this.children.push(s));else if(o>e)for(;o-- >e;)if(this.lines.length>e+this.ybase&&this.lines.pop(),this.children.length>e){if(!(i=this.children.pop()))continue;i.parentNode.removeChild(i)}this.rows=e,this.y>=e&&(this.y=e-1),this.x>=t&&(this.x=t-1),this.scrollTop=0,this.scrollBottom=e-1,this.refresh(0,this.rows-1),this.normal=null,this.emit("resize")},i.prototype.updateRange=function(t){t<this.refreshStart&&(this.refreshStart=t),t>this.refreshEnd&&(this.refreshEnd=t)},i.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},i.prototype.setupStops=function(t){for(null!=t?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this.cols;t+=8)this.tabs[t]=!0},i.prototype.prevStop=function(t){for(null==t&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this.cols?this.cols-1:t<0?0:t},i.prototype.nextStop=function(t){for(null==t&&(t=this.x);!this.tabs[++t]&&t<this.cols;);return t>=this.cols?this.cols-1:t<0?0:t},i.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},i.prototype.eraseRight=function(t,e){for(var s=this.lines[this.ybase+e],i=[this.eraseAttr()," "];t<this.cols;t++)s[t]=i;this.updateRange(e)},i.prototype.eraseLeft=function(t,e){var s=this.lines[this.ybase+e],i=[this.eraseAttr()," "];for(t++;t--;)s[t]=i;this.updateRange(e)},i.prototype.eraseLine=function(t){this.eraseRight(0,t)},i.prototype.blankLine=function(t){for(var e=t?this.eraseAttr():this.defAttr,s=[e," "],i=[],r=0;r<this.cols;r++)i[r]=s;return i},i.prototype.ch=function(t){return t?[this.eraseAttr()," "]:[this.defAttr," "]},i.prototype.is=function(t){return 0===(this.termName+"").indexOf(t)},i.prototype.handler=function(t){this.emit("data",t)},i.prototype.handleTitle=function(t){this.emit("title",t)},i.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.state=0},i.prototype.reverseIndex=function(){var t;this.y--,this.y<this.scrollTop&&(this.y++,this.lines.splice(this.y+this.ybase,0,this.blankLine(!0)),t=this.rows-1-this.scrollBottom,this.lines.splice(this.rows-1+this.ybase-t+1,1),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)),this.state=0},i.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols,i.call(this,this.options),this.refresh(0,this.rows-1)},i.prototype.tabSet=function(){this.tabs[this.x]=!0,this.state=0},i.prototype.cursorUp=function(t){var e=t[0];e<1&&(e=1),this.y-=e,this.y<0&&(this.y=0)},i.prototype.cursorDown=function(t){var e=t[0];e<1&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1)},i.prototype.cursorForward=function(t){var e=t[0];e<1&&(e=1),this.x+=e,this.x>=this.cols&&(this.x=this.cols-1)},i.prototype.cursorBackward=function(t){var e=t[0];e<1&&(e=1),this.x-=e,this.x<0&&(this.x=0)},i.prototype.cursorPos=function(t){var e,s;e=t[0]-1,s=t.length>=2?t[1]-1:0,e<0?e=0:e>=this.rows&&(e=this.rows-1),s<0?s=0:s>=this.cols&&(s=this.cols-1),this.x=s,this.y=e},i.prototype.eraseInDisplay=function(t){var e;switch(t[0]){case 0:for(this.eraseRight(this.x,this.y),e=this.y+1;e<this.rows;e++)this.eraseLine(e);break;case 1:for(this.eraseLeft(this.x,this.y),e=this.y;e--;)this.eraseLine(e);break;case 2:for(e=this.rows;e--;)this.eraseLine(e)}},i.prototype.eraseInLine=function(t){switch(t[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y)}},i.prototype.charAttributes=function(t){if(1===t.length&&0===t[0])return void(this.curAttr=this.defAttr);for(var e,s=t.length,i=0,r=this.curAttr>>18,o=this.curAttr>>9&511,n=511&this.curAttr;i<s;i++)e=t[i],e>=30&&e<=37?o=e-30:e>=40&&e<=47?n=e-40:e>=90&&e<=97?(e+=8,o=e-90):e>=100&&e<=107?(e+=8,n=e-100):0===e?(r=this.defAttr>>18,o=this.defAttr>>9&511,n=511&this.defAttr):1===e?r|=1:4===e?r|=2:5===e?r|=4:7===e?r|=8:8===e?r|=16:22===e?r&=-2:24===e?r&=-3:25===e?r&=-5:27===e?r&=-9:28===e?r&=-17:39===e?o=this.defAttr>>9&511:49===e?n=511&this.defAttr:38===e?2===t[i+1]?(i+=2,o=u(255&t[i],255&t[i+1],255&t[i+2]),-1===o&&(o=511),i+=2):5===t[i+1]&&(i+=2,e=255&t[i],o=e):48===e?2===t[i+1]?(i+=2,n=u(255&t[i],255&t[i+1],255&t[i+2]),-1===n&&(n=511),i+=2):5===t[i+1]&&(i+=2,e=255&t[i],n=e):100===e?(o=this.defAttr>>9&511,n=511&this.defAttr):this.error("Unknown SGR attribute: %d.",e);this.curAttr=r<<18|o<<9|n},i.prototype.deviceStatus=function(t){if(this.prefix){if("?"===this.prefix)switch(t[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R")}}else switch(t[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R")}},i.prototype.insertChars=function(t){var e,s,i,r;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=this.x,r=[this.eraseAttr()," "];e--&&i<this.cols;)this.lines[s].splice(i++,0,r),this.lines[s].pop()},i.prototype.cursorNextLine=function(t){var e=t[0];e<1&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1),this.x=0},i.prototype.cursorPrecedingLine=function(t){var e=t[0];e<1&&(e=1),this.y-=e,this.y<0&&(this.y=0),this.x=0},i.prototype.cursorCharAbsolute=function(t){var e=t[0];e<1&&(e=1),this.x=e-1},i.prototype.insertLines=function(t){var e,s,i;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=this.rows-1-this.scrollBottom,i=this.rows-1+this.ybase-i+1;e--;)this.lines.splice(s,0,this.blankLine(!0)),this.lines.splice(i,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},i.prototype.deleteLines=function(t){var e,s,i;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=this.rows-1-this.scrollBottom,i=this.rows-1+this.ybase-i;e--;)this.lines.splice(i+1,0,this.blankLine(!0)),this.lines.splice(s,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},i.prototype.deleteChars=function(t){var e,s,i;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=[this.eraseAttr()," "];e--;)this.lines[s].splice(this.x,1),this.lines[s].push(i)},i.prototype.eraseChars=function(t){var e,s,i,r;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=this.x,r=[this.eraseAttr()," "];e--&&i<this.cols;)this.lines[s][i++]=r},i.prototype.charPosAbsolute=function(t){var e=t[0];e<1&&(e=1),this.x=e-1,this.x>=this.cols&&(this.x=this.cols-1)},i.prototype.HPositionRelative=function(t){var e=t[0];e<1&&(e=1),this.x+=e,this.x>=this.cols&&(this.x=this.cols-1)},i.prototype.sendDeviceAttributes=function(t){t[0]>0||(this.prefix?">"===this.prefix&&(this.is("xterm")?this.send("[>0;276;0c"):this.is("rxvt-unicode")?this.send("[>85;95;0c"):this.is("linux")?this.send(t[0]+"c"):this.is("screen")&&this.send("[>83;40003;0c")):this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")?this.send("[?1;2c"):this.is("linux")&&this.send("[?6c"))},i.prototype.linePosAbsolute=function(t){var e=t[0];e<1&&(e=1),this.y=e-1,this.y>=this.rows&&(this.y=this.rows-1)},i.prototype.VPositionRelative=function(t){var e=t[0];e<1&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1)},i.prototype.HVPosition=function(t){t[0]<1&&(t[0]=1),t[1]<1&&(t[1]=1),this.y=t[0]-1,this.y>=this.rows&&(this.y=this.rows-1),this.x=t[1]-1,this.x>=this.cols&&(this.x=this.cols-1)},i.prototype.setMode=function(t){if("object"!=typeof t)if(this.prefix){if("?"===this.prefix)switch(t){case 1:this.applicationCursor=!0;break;case 2:this.setgCharset(0,i.charsets.US),this.setgCharset(1,i.charsets.US),this.setgCharset(2,i.charsets.US),this.setgCharset(3,i.charsets.US);break;case 3:this.savedCols=this.cols,this.resize(132,this.rows);break;case 6:this.originMode=!0;break;case 7:this.wraparoundMode=!0;break;case 12:break;case 66:this.log("Serial port requested application keypad."),this.applicationKeypad=!0;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=9===t,this.vt200Mouse=1e3===t,this.normalMouse=t>1e3,this.mouseEvents=!0,this.element.style.cursor="default",this.log("Binding to mouse events.");break;case 1004:this.sendFocus=!0;break;case 1005:this.utfMouse=!0;break;case 1006:this.sgrMouse=!0;break;case 1015:this.urxvtMouse=!0;break;case 25:this.cursorHidden=!1;break;case 1049:case 47:case 1047:if(!this.normal){var e={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset(),this.normal=e,this.showCursor()}}}else switch(t){case 4:this.insertMode=!0}else for(var s=t.length,r=0;r<s;r++)this.setMode(t[r])},i.prototype.resetMode=function(t){if("object"!=typeof t)if(this.prefix){if("?"===this.prefix)switch(t){case 1:this.applicationCursor=!1;break;case 3:132===this.cols&&this.savedCols&&this.resize(this.savedCols,this.rows),delete this.savedCols;break;case 6:this.originMode=!1;break;case 7:this.wraparoundMode=!1;break;case 12:break;case 66:this.log("Switching back to normal keypad."),this.applicationKeypad=!1;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=!1,this.vt200Mouse=!1,this.normalMouse=!1,this.mouseEvents=!1,this.element.style.cursor="";break;case 1004:this.sendFocus=!1;break;case 1005:this.utfMouse=!1;break;case 1006:this.sgrMouse=!1;break;case 1015:this.urxvtMouse=!1;break;case 25:this.cursorHidden=!0;break;case 1049:case 47:case 1047:this.normal&&(this.lines=this.normal.lines,this.ybase=this.normal.ybase,this.ydisp=this.normal.ydisp,this.x=this.normal.x,this.y=this.normal.y,this.scrollTop=this.normal.scrollTop,this.scrollBottom=this.normal.scrollBottom,this.tabs=this.normal.tabs,this.normal=null,this.refresh(0,this.rows-1),this.showCursor())}}else switch(t){case 4:this.insertMode=!1}else for(var e=t.length,s=0;s<e;s++)this.resetMode(t[s])},i.prototype.setScrollRegion=function(t){this.prefix||(this.scrollTop=(t[0]||1)-1,this.scrollBottom=(t[1]||this.rows)-1,this.x=0,this.y=0)},i.prototype.saveCursor=function(t){this.savedX=this.x,this.savedY=this.y},i.prototype.restoreCursor=function(t){this.x=this.savedX||0,this.y=this.savedY||0},i.prototype.cursorForwardTab=function(t){for(var e=t[0]||1;e--;)this.x=this.nextStop()},i.prototype.scrollUp=function(t){for(var e=t[0]||1;e--;)this.lines.splice(this.ybase+this.scrollTop,1),this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},i.prototype.scrollDown=function(t){for(var e=t[0]||1;e--;)this.lines.splice(this.ybase+this.scrollBottom,1),this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},i.prototype.initMouseTracking=function(t){},i.prototype.resetTitleModes=function(t){},i.prototype.cursorBackwardTab=function(t){for(var e=t[0]||1;e--;)this.x=this.prevStop()},i.prototype.repeatPrecedingCharacter=function(t){for(var e=t[0]||1,s=this.lines[this.ybase+this.y],i=s[this.x-1]||[this.defAttr," "];e--;)s[this.x++]=i},i.prototype.tabClear=function(t){var e=t[0];e<=0?delete this.tabs[this.x]:3===e&&(this.tabs={})},i.prototype.mediaCopy=function(t){},i.prototype.setResources=function(t){},i.prototype.disableModifiers=function(t){},i.prototype.setPointerMode=function(t){},i.prototype.softReset=function(t){this.cursorHidden=!1,this.insertMode=!1,this.originMode=!1,this.wraparoundMode=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.scrollTop=0,this.scrollBottom=this.rows-1,this.curAttr=this.defAttr,this.x=this.y=0,this.charset=null,this.glevel=0,this.charsets=[null]},i.prototype.requestAnsiMode=function(t){},i.prototype.requestPrivateMode=function(t){},i.prototype.setConformanceLevel=function(t){},i.prototype.loadLEDs=function(t){},i.prototype.setCursorStyle=function(t){},i.prototype.setCharProtectionAttr=function(t){},i.prototype.restorePrivateValues=function(t){},i.prototype.setAttrInRectangle=function(t){for(var e,s,i=t[0],r=t[1],o=t[2],n=t[3],a=t[4];i<o+1;i++)for(e=this.lines[this.ybase+i],s=r;s<n;s++)e[s]=[a,e[s][1]];this.updateRange(t[0]),this.updateRange(t[2])},i.prototype.savePrivateValues=function(t){},i.prototype.manipulateWindow=function(t){},i.prototype.reverseAttrInRectangle=function(t){},i.prototype.setTitleModeFeature=function(t){},i.prototype.setWarningBellVolume=function(t){},i.prototype.setMarginBellVolume=function(t){},i.prototype.copyRectangle=function(t){},i.prototype.enableFilterRectangle=function(t){},i.prototype.requestParameters=function(t){},i.prototype.selectChangeExtent=function(t){},i.prototype.fillRectangle=function(t){for(var e,s,i=t[0],r=t[1],o=t[2],n=t[3],a=t[4];r<n+1;r++)for(e=this.lines[this.ybase+r],s=o;s<a;s++)e[s]=[e[s][0],m.fromCharCode(i)];this.updateRange(t[1]),this.updateRange(t[3])},i.prototype.enableLocatorReporting=function(t){t[0]},i.prototype.eraseRectangle=function(t){var e,s,i,r=t[0],o=t[1],n=t[2],a=t[3];for(i=[this.eraseAttr()," "];r<n+1;r++)for(e=this.lines[this.ybase+r],s=o;s<a;s++)e[s]=i;this.updateRange(t[0]),this.updateRange(t[2])},i.prototype.setLocatorEvents=function(t){},i.prototype.selectiveEraseRectangle=function(t){},i.prototype.requestLocatorPosition=function(t){},i.prototype.insertColumns=function(){for(var t,e=params[0],s=this.ybase+this.rows,i=[this.eraseAttr()," "];e--;)for(t=this.ybase;t<s;t++)this.lines[t].splice(this.x+1,0,i),this.lines[t].pop();this.maxRange()},i.prototype.deleteColumns=function(){for(var t,e=params[0],s=this.ybase+this.rows,i=[this.eraseAttr()," "];e--;)for(t=this.ybase;t<s;t++)this.lines[t].splice(this.x,1),this.lines[t].push(i);this.maxRange()},i.prototype.enterPrefix=function(){this.prefixMode=!0},i.prototype.leavePrefix=function(){this.prefixMode=!1},i.prototype.enterSelect=function(){this._real={x:this.x,y:this.y,ydisp:this.ydisp,ybase:this.ybase,cursorHidden:this.cursorHidden,lines:this.copyBuffer(this.lines),write:this.write},this.write=function(){},this.selectMode=!0,this.visualMode=!1,this.cursorHidden=!1,this.refresh(this.y,this.y)},i.prototype.leaveSelect=function(){this.x=this._real.x,this.y=this._real.y,this.ydisp=this._real.ydisp,this.ybase=this._real.ybase,this.cursorHidden=this._real.cursorHidden,this.lines=this._real.lines,this.write=this._real.write,delete this._real,this.selectMode=!1,this.visualMode=!1,this.refresh(0,this.rows-1)},i.prototype.enterVisual=function(){this._real.preVisual=this.copyBuffer(this.lines),this.selectText(this.x,this.x,this.ydisp+this.y,this.ydisp+this.y),this.visualMode=!0},i.prototype.leaveVisual=function(){this.lines=this._real.preVisual,delete this._real.preVisual,delete this._selected,this.visualMode=!1,this.refresh(0,this.rows-1)},i.prototype.enterSearch=function(t){this.entry="",this.searchMode=!0,this.searchDown=t,this._real.preSearch=this.copyBuffer(this.lines),this._real.preSearchX=this.x,this._real.preSearchY=this.y;for(var e=this.ydisp+this.rows-1,s=0;s<this.entryPrefix.length;s++)this.lines[e][s]=[-512&this.defAttr|4,this.entryPrefix[s]];this.y=this.rows-1,this.x=this.entryPrefix.length,this.refresh(this.rows-1,this.rows-1)},i.prototype.leaveSearch=function(){this.searchMode=!1,this._real.preSearch&&(this.lines=this._real.preSearch,this.x=this._real.preSearchX,this.y=this._real.preSearchY,delete this._real.preSearch,delete this._real.preSearchX,delete this._real.preSearchY),this.refresh(this.rows-1,this.rows-1)},i.prototype.copyBuffer=function(t){for(var t=t||this.lines,e=[],s=0;s<t.length;s++){e[s]=[];for(var i=0;i<t[s].length;i++)e[s][i]=[t[s][i][0],t[s][i][1]]}return e},i.prototype.getCopyTextarea=function(t){var e=this._copyTextarea,s=this.document;return e||(e=s.createElement("textarea"),e.style.position="absolute",e.style.left="-32000px",e.style.top="-32000px",e.style.width="0px",e.style.height="0px",e.style.opacity="0",e.style.backgroundColor="transparent",e.style.borderStyle="none",e.style.outlineStyle="none",s.getElementsByTagName("body")[0].appendChild(e),this._copyTextarea=e),e},i.prototype.copyText=function(t){var e=this,s=this.getCopyTextarea();this.emit("copy",t),s.focus(),s.textContent=t,s.value=t,s.setSelectionRange(0,t.length),b(function(){e.element.focus(),e.focus()},1)},i.prototype.selectText=function(t,e,s,i){var r,o,n,a,h,c,l,u,p;if(this._selected){for(r=this._selected.x1,o=this._selected.x2,n=this._selected.y1,a=this._selected.y2,a<n&&(h=o,o=r,r=h,h=a,a=n,n=h),o<r&&n===a&&(h=o,o=r,r=h),l=n;l<=a;l++)for(c=0,u=this.cols-1,l===n&&(c=r),l===a&&(u=o);c<=u;c++)null!=this.lines[l][c].old&&(p=this.lines[l][c].old,delete this.lines[l][c].old,this.lines[l][c]=[p,this.lines[l][c][1]]);s=this._selected.y1,t=this._selected.x1}for(s=Math.max(s,0),s=Math.min(s,this.ydisp+this.rows-1),i=Math.max(i,0),i=Math.min(i,this.ydisp+this.rows-1),this._selected={x1:t,x2:e,y1:s,y2:i},i<s&&(h=e,e=t,t=h,h=i,i=s,s=h),e<t&&s===i&&(h=e,e=t,t=h),l=s;l<=i;l++)for(c=0,u=this.cols-1,l===s&&(c=t),l===i&&(u=e);c<=u;c++)p=this.lines[l][c][0],this.lines[l][c]=[-512&p|261636,this.lines[l][c][1]],this.lines[l][c].old=p;s-=this.ydisp,i-=this.ydisp,s=Math.max(s,0),s=Math.min(s,this.rows-1),i=Math.max(i,0),i=Math.min(i,this.rows-1),this.refresh(0,this.rows-1)},i.prototype.grabText=function(t,e,s,i){var r,o,n,a,h,c="",u="";for(i<s&&(h=e,e=t,t=h,h=i,i=s,s=h),e<t&&s===i&&(h=e,e=t,t=h),n=s;n<=i;n++){for(o=0,a=this.cols-1,n===s&&(o=t),n===i&&(a=e);o<=a;o++)r=this.lines[n][o][1]," "!==r?(u&&(c+=u,u=""),c+=r,l(r)&&o++):u+=r;u="",c+="\n"}for(o=e,n=i;o<this.cols;o++)if(" "!==this.lines[n][o][1]){c=c.slice(0,-1);break}return c},i.prototype.keyPrefix=function(t,e){"k"===e||"&"===e?this.destroy():"p"===e||"]"===e?this.emit("request paste"):"c"===e?this.emit("request create"):e>="0"&&e<="9"?(e=+e-1,~e||(e=9),this.emit("request term",e)):"n"===e?this.emit("request term next"):"P"===e?this.emit("request term previous"):":"===e?this.emit("request command mode"):"["===e&&this.enterSelect()},i.prototype.keySelect=function(t,e){if(this.showCursor(),this.searchMode||"n"===e||"N"===e)return this.keySearch(t,e);if(""===e){var s=this.ydisp+this.y;return this.ydisp===this.ybase?(this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1),this.refresh(0,this.rows-1)):this.scrollDisp((this.rows-1)/2|0),void(this.visualMode&&this.selectText(this.x,this.x,s,this.ydisp+this.y))}if(""===e){var s=this.ydisp+this.y;return 0===this.ydisp?(this.y=Math.max(this.y-(this.rows-1)/2|0,0),this.refresh(0,this.rows-1)):this.scrollDisp(-(this.rows-1)/2|0),void(this.visualMode&&this.selectText(this.x,this.x,s,this.ydisp+this.y))}if(""===e){var s=this.ydisp+this.y;return this.scrollDisp(this.rows-1),void(this.visualMode&&this.selectText(this.x,this.x,s,this.ydisp+this.y))}if(""===e){var s=this.ydisp+this.y;return this.scrollDisp(-(this.rows-1)),void(this.visualMode&&this.selectText(this.x,this.x,s,this.ydisp+this.y))}if("k"===e||"[A"===e){var s=this.ydisp+this.y;return this.y--,this.y<0&&(this.y=0,this.scrollDisp(-1)),void(this.visualMode?this.selectText(this.x,this.x,s,this.ydisp+this.y):this.refresh(this.y,this.y+1))}if("j"===e||"[B"===e){var s=this.ydisp+this.y;return this.y++,this.y>=this.rows&&(this.y=this.rows-1,this.scrollDisp(1)),void(this.visualMode?this.selectText(this.x,this.x,s,this.ydisp+this.y):this.refresh(this.y-1,this.y))}if("h"===e||"[D"===e){var i=this.x;return this.x--,this.x<0&&(this.x=0),void(this.visualMode?this.selectText(i,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("l"===e||"[C"===e){var i=this.x;return this.x++,this.x>=this.cols&&(this.x=this.cols-1),void(this.visualMode?this.selectText(i,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("v"===e||" "===e)return void(this.visualMode?this.leaveVisual():this.enterVisual());if("y"!==e){if("q"===e||""===e)return void(this.visualMode?this.leaveVisual():this.leaveSelect());if("w"===e||"W"===e){for(var r=this.x,o=this.y,n=this.ydisp,i=this.x,s=this.y,a=this.ydisp,h=!1;;){for(var c=this.lines[a+s];i<this.cols;){if(c[i][1]<=" ")h=!0;else if(h)break;i++}if(i>=this.cols&&(i=this.cols-1),!(i===this.cols-1&&c[i][1]<=" "))break;if(i=0,++s>=this.rows&&(s--,++a>this.ybase)){a=this.ybase,i=this.x;break}}return this.x=i,this.y=s,this.scrollDisp(-this.ydisp+a),void(this.visualMode&&this.selectText(r,this.x,o+n,this.ydisp+this.y))}if("b"===e||"B"===e){for(var r=this.x,o=this.y,n=this.ydisp,i=this.x,s=this.y,a=this.ydisp;;){for(var c=this.lines[a+s],h=i>0&&c[i][1]>" "&&c[i-1][1]>" ";i>=0;){if(c[i][1]<=" "){if(h&&i+1<this.cols&&c[i+1][1]>" "){i++;break}h=!0}i--}if(i<0&&(i=0),0!==i||!(c[i][1]<=" ")&&h)break;if(i=this.cols-1,--s<0&&(s++,--a<0)){a++,i=0;break}}return this.x=i,this.y=s,this.scrollDisp(-this.ydisp+a),void(this.visualMode&&this.selectText(r,this.x,o+n,this.ydisp+this.y))}if("e"===e||"E"===e){var i=this.x+1,s=this.y,a=this.ydisp;for(i>=this.cols&&i--;;){for(var c=this.lines[a+s];i<this.cols&&c[i][1]<=" ";)i++;for(;i<this.cols;){if(c[i][1]<=" "&&i-1>=0&&c[i-1][1]>" "){i--;break}i++}if(i>=this.cols&&(i=this.cols-1),!(i===this.cols-1&&c[i][1]<=" "))break;if(i=0,++s>=this.rows&&(s--,++a>this.ybase)){a=this.ybase;break}}return this.x=i,this.y=s,this.scrollDisp(-this.ydisp+a),void(this.visualMode&&this.selectText(r,this.x,o+n,this.ydisp+this.y))}if("^"===e||"0"===e){var r=this.x;if("0"===e)this.x=0;else if("^"===e){for(var c=this.lines[this.ydisp+this.y],i=0;i<this.cols&&!(c[i][1]>" ");)i++;i>=this.cols&&(i=this.cols-1),this.x=i}return void(this.visualMode?this.selectText(r,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("$"===e){for(var r=this.x,c=this.lines[this.ydisp+this.y],i=this.cols-1;i>=0;){if(c[i][1]>" "){this.visualMode&&i<this.cols-1&&i++;break}i--}return i<0&&(i=0),this.x=i,void(this.visualMode?this.selectText(r,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("g"===e||"G"===e){var r=this.x,o=this.y,n=this.ydisp;return"g"===e?(this.x=0,this.y=0,this.scrollDisp(-this.ydisp)):"G"===e&&(this.x=0,this.y=this.rows-1,this.scrollDisp(this.ybase)),void(this.visualMode&&this.selectText(r,this.x,o+n,this.ydisp+this.y))}if("H"===e||"M"===e||"L"===e){var r=this.x,o=this.y;return"H"===e?(this.x=0,this.y=0):"M"===e?(this.x=0,this.y=this.rows/2|0):"L"===e&&(this.x=0,this.y=this.rows-1),void(this.visualMode?this.selectText(r,this.x,this.ydisp+o,this.ydisp+this.y):(this.refresh(o,o),this.refresh(this.y,this.y)))}if("{"===e||"}"===e){var c,l,r=this.x,o=this.y,n=this.ydisp,u=!1,p=!1,f=-1,s=this.y+("{"===e?-1:1),a=this.ydisp;for("{"===e?s<0&&(s++,a>0&&a--):"}"===e&&s>=this.rows&&(s--,a<this.ybase&&a++);;){for(c=this.lines[a+s],l=0;l<this.cols;l++){if(c[l][1]>" "){-1===f&&(f=0),u=!0;break}if(l===this.cols-1){-1===f?f=1:0===f?p=!0:1===f&&u&&(p=!0);break}}if(p)break;if("{"===e){if(--s<0){if(s++,!(a>0))break;a--}}else if("}"===e&&++s>=this.rows){if(s--,!(a<this.ybase))break;a++}}return p||("{"===e?(s=0,a=0):"}"===e&&(s=this.rows-1,a=this.ybase)),this.x=0,this.y=s,this.scrollDisp(-this.ydisp+a),void(this.visualMode&&this.selectText(r,this.x,o+n,this.ydisp+this.y))}return("/"===e||"?"===e)&&void(this.visualMode||this.enterSearch("/"===e))}if(this.visualMode){var d=this.grabText(this._selected.x1,this._selected.x2,this._selected.y1,this._selected.y2);this.copyText(d),this.leaveVisual()}},i.prototype.keySearch=function(t,e){if(""===e)return void this.leaveSearch();if("\r"===e||!this.searchMode&&("n"===e||"N"===e)){this.leaveSearch();var s=this.entry;if(!s)return void this.refresh(0,this.rows-1);for(var i,r,o,n=this.x,a=this.y,h=this.ydisp,c=!1,l=!1,u=this.x+1,p=this.ydisp+this.y,f="N"===e?this.searchDown:!this.searchDown;;){for(i=this.lines[p];u<this.cols;){for(o=0;o<s.length&&!(u+o>=this.cols)&&i[u+o][1]===s[o];o++)if(i[u+o][1]===s[o]&&o===s.length-1){c=!0;break}if(c)break;u+=o+1}if(c)break;if(u=0,f){if(--p<0){if(l)break;l=!0,p=this.ybase+this.rows-1}}else if(++p>this.ybase+this.rows-1){if(l)break;l=!0,p=0}}return c?(p-this.ybase<0?(r=p,p=0,r>this.ybase&&(p=r-this.ybase,r=this.ybase)):(r=this.ybase,p-=this.ybase),this.x=u,this.y=p,this.scrollDisp(-this.ydisp+r),void(this.visualMode&&this.selectText(n,this.x,a+h,this.ydisp+this.y))):void this.refresh(0,this.rows-1)}if("\b"===e||""===e){if(0===this.entry.length)return;var d=this.ydisp+this.rows-1;this.entry=this.entry.slice(0,-1);var o=this.entryPrefix.length+this.entry.length;return this.lines[d][o]=[this.lines[d][o][0]," "],this.x--,this.refresh(this.rows-1,this.rows-1),void this.refresh(this.y,this.y)}if(1===e.length&&e>=" "&&e<="~"){var d=this.ydisp+this.rows-1;this.entry+=e;var o=this.entryPrefix.length+this.entry.length-1;return this.lines[d][o]=[-512&this.defAttr|4,e],this.x++,this.refresh(this.rows-1,this.rows-1),void this.refresh(this.y,this.y)}return!1},i.charsets={},i.charsets.SCLD={"`":"◆",a:"▒",b:"\t",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"\v",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},i.charsets.UK=null,i.charsets.US=null,i.charsets.Dutch=null,i.charsets.Finnish=null,i.charsets.French=null,i.charsets.FrenchCanadian=null,i.charsets.German=null,i.charsets.Italian=null,i.charsets.NorwegianDanish=null,i.charsets.Spanish=null,i.charsets.Swedish=null,i.charsets.Swiss=null,i.charsets.ISOLatin=null;var m=this.String,b=this.setTimeout,v=this.setInterval;u._cache={},u.distance=function(t,e,s,i,r,o){return Math.pow(30*(t-i),2)+Math.pow(59*(e-r),2)+Math.pow(11*(s-o),2)},i.EventEmitter=e,i.Stream=s,i.inherits=a,i.on=r,i.off=o,i.cancel=n,t.exports=i}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(e,s(1))},function(t,e){t.exports=function(t,e,s,i,r){var o,n=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(o=t,n=t.default);var h="function"==typeof n?n.options:n;e&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns),i&&(h._scopeId=i);var c;if(r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},h._ssrRegister=c):s&&(c=s),c){var l=h.functional,u=l?h.render:h.beforeCreate;l?h.render=function(t,e){return c.call(e),u(t,e)}:h.beforeCreate=u?[].concat(u,c):[c]}return{esModule:o,exports:n,options:h}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\n    Shell\n")])},staticRenderFns:[]}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);